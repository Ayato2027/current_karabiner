{ "title": "A1 40% keyboard settings",
  "maintainers": [ "jm" ],
  "rules": [
    { "description": "40% keyboard settings for apple internal keyboard",
      "manipulators": [ 
        

        { "description": "------------------------------------------------------------------------------------",
          "description": " Unset karabiner",
          "description": "------------------------------------------------------------------------------------",
        
          "description": "Unset: Fn+a ---------------------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "a", "modifiers": { "mandatory": [ "fn" ] } },
          "to": [ { "set_variable": { "name": "unset_mode", "value": 1 } },
                  { "set_notification_message": { "id": "unset_mode", "text": "Karabiner UNSET" } } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 } ] },

        { "description": "Unset: Fn+s ---------------------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "s", "modifiers": { "mandatory": [ "fn" ] } },
          "to": [ { "set_variable": { "name": "unset_mode", "value": 0 } },
                  { "set_notification_message": { "id": "unset_mode", "text": "" } } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 1 } ] },


        { "description": "------------------------------------------------------------------------------------",
          "description": " Alt tab mode = 1                                                                   ",
          "description": "------------------------------------------------------------------------------------",
        
          "description": "Alt: Left Control + eisuu + k ------------------------------",
          "type": "basic",
          "type": "basic",
          "from": { "key_code": "k", 
                    "modifiers": { "mandatory": [ "left_control" ] } },
          "to": [ { "set_variable": { "name": "alt_tab_mode", "value": 0 } },
                  { "set_notification_message": { "id": "alt_tab_mode", "text": "" } },
                  { "key_code": "escape" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode",   "value": 0 },  
                          { "type": "variable_if", "name": "eisuu_mode",   "value": 1 }, 
                          { "type": "variable_if", "name": "alt_tab_mode", "value": 1 } ] }, 

        { "description": "Alt: Left Control ------------------------------------------",
          "type": "basic",
          "from": { "key_code": "left_control" },
          "to": [ { "key_code": "left_control" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode",   "value": 0 },  
                          { "type": "variable_if", "name": "alt_tab_mode", "value": 1 } ] }, 

        { "description": "Alt: Eisuu -------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "japanese_eisuu", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "set_variable": { "name": "eisuu_mode", "value": 1 } } ],
          "to_after_key_up": [ { "set_variable": { "name": "eisuu_mode","value": 0 } } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode",   "value": 0 },  
                          { "type": "variable_if", "name": "alt_tab_mode", "value": 1 } ] }, 

        { "description": "Alt: q -----------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "q" },
          "to": [ { "key_code": "q" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode",   "value": 0 },  
                          { "type": "variable_if", "name": "eisuu_mode",   "value": 0 }, 
                          { "type": "variable_if", "name": "alt_tab_mode", "value": 1 } ] }, 

        { "description": "Alt: w -----------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "w" },
          "to": [ { "key_code": "w" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode",   "value": 0 },  
                          { "type": "variable_if", "name": "eisuu_mode",   "value": 0 }, 
                          { "type": "variable_if", "name": "alt_tab_mode", "value": 1 } ] }, 

        { "description": "Alt: h -----------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "h" },
          "to": [ { "key_code": "left_arrow" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode",   "value": 0 },  
                          { "type": "variable_if", "name": "eisuu_mode",   "value": 0 }, 
                          { "type": "variable_if", "name": "alt_tab_mode", "value": 1 } ] }, 

        { "description": "Alt: j -----------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "j" },
          "to": [ { "key_code": "down_arrow" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode",   "value": 0 },  
                          { "type": "variable_if", "name": "eisuu_mode",   "value": 0 }, 
                          { "type": "variable_if", "name": "alt_tab_mode", "value": 1 } ] }, 

        { "description": "Alt: k -----------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "k" },
          "to": [ { "key_code": "up_arrow" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode",   "value": 0 },  
                          { "type": "variable_if", "name": "eisuu_mode",   "value": 0 }, 
                          { "type": "variable_if", "name": "alt_tab_mode", "value": 1 } ] }, 

        { "description": "Alt: l -----------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "l" },
          "to": [ { "key_code": "right_arrow" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode",   "value": 0 },  
                          { "type": "variable_if", "name": "eisuu_mode",   "value": 0 }, 
                          { "type": "variable_if", "name": "alt_tab_mode", "value": 1 } ] }, 

        { "description": "Alt: semicolon ---------------------------------------------",
          "type": "basic",
          "from": { "key_code": "semicolon" },
          "to": [ { "set_variable": { "name": "alt_tab_mode", "value": 0 } },
                  { "set_notification_message": { "id": "alt_tab_mode", "text": "" } },
                  { "key_code": "return_or_enter" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode",   "value": 0 },  
                          { "type": "variable_if", "name": "eisuu_mode",   "value": 0 }, 
                          { "type": "variable_if", "name": "alt_tab_mode", "value": 1 } ] }, 

        { "description": "Alt: m -----------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "m" },
          "to": [ { "key_code": "m" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode",   "value": 0 },  
                          { "type": "variable_if", "name": "eisuu_mode",   "value": 0 }, 
                          { "type": "variable_if", "name": "alt_tab_mode", "value": 1 } ] }, 

        { "description": "Alt: invalid -----------------------------------------------",
          "type": "basic",
          "from": { "any": "key_code", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "key_code": "vk_none" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode",   "value": 0 },  
                          { "type": "variable_if", "name": "alt_tab_mode", "value": 1 } ] }, 

        
        { "description": "------------------------------------------------------------------------------------",
          "description": " Modifier Key                                                                       ",
          "description": "------------------------------------------------------------------------------------",
        
          "description": "Modifier: Tab ----------------------------------------------------------------------",
          "description": "Tab → Alone：Show Dock, Modifier：Layer3",
          "type": "basic",
          "from": { "key_code": "tab", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "set_variable": { "name": "tab_mode", "value": 1 } } ],
          "parameters": { "basic.to_if_alone_timeout_milliseconds": 250},
          "to_if_alone": [ { "set_variable": { "name": "vi_mode", "value": 0 } },
                           { "set_notification_message": { "id": "vi_mode", "text": "" } },
                           { "key_code": "f3", "modifiers": [ "left_control" ] } ],
          "to_after_key_up": [ { "set_variable": { "name": "tab_mode","value": 0 } } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 } ] },  

        { "description": "Modifier: Left Control -------------------------------------------------------------",
          "description": "Vi Branch",
          "description": "If vi_on_off is 1 and vi_mode is not 0: Left Control → Left Control",
          "description": "Otherwise: Left Control → Alone: Tab, Modifier: Left Control",
          "type": "basic",
          "from": { "key_code": "left_control", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "key_code": "left_control", "lazy": true } ],
          "conditions": [ { "type": "variable_if",     "name": "unset_mode", "value": 0 },
                          { "type": "variable_unless", "name": "vi_mode",    "value": 0 },  
                          { "type": "variable_if",     "name": "vi_on_off",  "value": 1 } ] }, 
        { "type": "basic",
          "from": { "key_code": "left_control", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "key_code": "left_control", "lazy": true } ],
          "parameters": { "basic.to_if_alone_timeout_milliseconds": 250},
          "to_if_alone": [ { "key_code": "v", "modifiers": [ "control","command" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 } ] }, 
        { "type": "basic",
          "from": { "key_code": "left_control", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "key_code": "left_control", "lazy": true } ],
          "parameters": { "basic.to_if_alone_timeout_milliseconds": 250},
          "to_if_alone": [ { "key_code": "tab" } ], 
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 } ] },

        { "description": "Modifier: Left Shift ---------------------------------------------------------------",
          "description": "Vi Branch",
          "description": "If vi_on_off is 1:",
          "description": "  If vi_mode 0     : Left Shift → Alone: vi_mode 1 + Eisuu, Modifier: Command",
          "description": "  If vi_mode 1     : Left Shift → Alone: Esc       + Eisuu, Modifier: Command",
          "description": "  If vi_mode 4     : Left Shift → Alone: Esc + vi1 + Eisuu, Modifier: Command",
          "description": "  If vi_mode 2 or 3: Left Shift → Alone: vi_mode 1 + Eisuu, Modifier: Command",
          "description": "    If visual_cursor_position is 0: + nothing",
          "description": "    If visual_cursor_position is 1: + ← + cursor position 0",
          "description": "    If visual_cursor_position is 2: + → + cursor position 0",
          "description": "If vi_on_off is 0: Left Shift → Alone: Esc + Eisuu, Modifier: Left Command",

          "type": "basic",
          "from": { "key_code": "left_shift", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "key_code": "left_command", "lazy": true } ],
          "parameters": { "basic.to_if_alone_timeout_milliseconds": 250 },
          "to_if_alone": [ { "set_variable": { "name": "vi_mode", "value": 1 } },
                           { "set_notification_message": { "id": "vi_mode", "text": "-- NORMAL --" } },
                           { "key_code": "japanese_eisuu" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },
                          { "type": "variable_if", "name": "vi_mode",    "value": 0 },  
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "type": "basic",
          "from": { "key_code": "left_shift", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "key_code": "left_command", "lazy": true } ],
          "parameters": { "basic.to_if_alone_timeout_milliseconds": 250 },
          "to_if_alone": [ { "key_code": "escape" }, { "key_code": "japanese_eisuu" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },
                          { "type": "variable_if", "name": "vi_mode",    "value": 1 },  
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "type": "basic",
          "from": { "key_code": "left_shift", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "key_code": "left_command", "lazy": true } ],
          "parameters": { "basic.to_if_alone_timeout_milliseconds": 250 },
          "to_if_alone": [ { "key_code": "escape" },
                           { "set_variable": { "name": "vi_mode", "value": 1 } },
                           { "set_notification_message": { "id": "vi_mode", "text": "-- NORMAL --" } },
                           { "key_code": "japanese_eisuu" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },
                          { "type": "variable_if", "name": "vi_mode",    "value": 4 },  
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "type": "basic",
          "from": { "key_code": "left_shift", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "key_code": "left_command", "lazy": true } ],
          "parameters": { "basic.to_if_alone_timeout_milliseconds": 250 },
          "to_if_alone": [ { "set_variable": { "name": "vi_mode", "value": 1 } },
                           { "set_notification_message": { "id": "vi_mode", "text": "-- NORMAL --" } },
                           { "key_code": "japanese_eisuu" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode",            "value": 0 },
                          { "type": "variable_if", "name": "visual_cursor_position","value": 0 },  
                          { "type": "variable_if", "name": "vi_on_off",             "value": 1 } ] }, 
        { "type": "basic",
          "from": { "key_code": "left_shift", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "key_code": "left_command", "lazy": true } ],
          "parameters": { "basic.to_if_alone_timeout_milliseconds": 250 },
          "to_if_alone": [ { "key_code": "left_arrow" },
                           { "set_variable": { "name": "visual_cursor_position", "value": 0 } },
                           { "set_variable": { "name": "vi_mode",                "value": 1 } },
                           { "set_notification_message": { "id": "vi_mode", "text": "-- NORMAL --" } },
                           { "key_code": "japanese_eisuu" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode",            "value": 0 },
                          { "type": "variable_if", "name": "visual_cursor_position","value": 1 },  
                          { "type": "variable_if", "name": "vi_on_off",             "value": 1 } ] }, 
        { "type": "basic",
          "from": { "key_code": "left_shift", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "key_code": "left_command", "lazy": true } ],
          "parameters": { "basic.to_if_alone_timeout_milliseconds": 250 },
          "to_if_alone": [ { "key_code": "right_arrow" },
                           { "set_variable": { "name": "visual_cursor_position", "value": 0 } },
                           { "set_variable": { "name": "vi_mode",                "value": 1 } },
                           { "set_notification_message": { "id": "vi_mode", "text": "-- NORMAL --" } },
                           { "key_code": "japanese_eisuu" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode",            "value": 0 },
                          { "type": "variable_if", "name": "visual_cursor_position","value": 2 },  
                          { "type": "variable_if", "name": "vi_on_off",             "value": 1 } ] }, 
        { "type": "basic",
          "from": { "key_code": "left_shift", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "key_code": "left_command" } ],
          "parameters": { "basic.to_if_alone_timeout_milliseconds": 250 },
          "to_if_alone": [ { "key_code": "escape" }, { "key_code": "japanese_eisuu" } ], 
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_on_off",  "value": 0 } ] }, 

        { "description": "Modifier: Caps lock ----------------------------------------------------------------",

          "description": "Vi Branch",
          "description": "Caps lock → Left Shift",
          "type": "basic",
          "from": { "key_code": "caps_lock", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "key_code": "left_shift", "lazy": true } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },
                          { "type": "variable_if", "name": "d_pressed",  "value": 0 }, 
                          { "type": "variable_if", "name": "y_pressed",  "value": 0 }, 
                          { "type": "variable_if", "name": "c_pressed",  "value": 0 }, 
                          { "type": "variable_if", "name": "g_pressed",  "value": 0 }, 
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "type": "basic",
          "from": { "key_code": "caps_lock", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "key_code": "left_shift", "lazy": true } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_on_off",  "value": 0 } ] }, 

        { "description": "Modifier: Left Command --------------------------------------------------------------",
          "description": "Left Command → Right Command",
          "type": "basic",
          "from": { "key_code": "left_command", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "key_code": "right_command", "lazy": true } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 } ] },  

        { "description": "Modifier: Eisuu --------------------------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "japanese_eisuu", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "set_variable": { "name": "eisuu_mode", "value": 1 } } ],
          "parameters": { "basic.to_if_alone_timeout_milliseconds": 150},
          "to_if_alone": [ { "key_code": "japanese_eisuu" } ],
          "to_after_key_up": [ { "set_variable": { "name": "eisuu_mode","value": 0 } } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 } ] }, 

        { "description": "Modifier: Kana ---------------------------------------------------------------------",

          "description": "Vi Branch",
          "description": "Kana → Alone: Kana, Modifier: Layer 2",
          "type": "basic",
          "from": { "key_code": "japanese_kana", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "set_variable": { "name": "kana_mode", "value": 1 } } ],
          "parameters": { "basic.to_if_alone_timeout_milliseconds": 150},
          "to_if_alone": [ { "key_code": "japanese_kana" } ],
          "to_after_key_up": [ { "set_variable": { "name": "kana_mode","value": 0 } } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },
                          { "type": "variable_if", "name": "d_pressed",  "value": 0 }, 
                          { "type": "variable_if", "name": "y_pressed",  "value": 0 }, 
                          { "type": "variable_if", "name": "c_pressed",  "value": 0 }, 
                          { "type": "variable_if", "name": "g_pressed",  "value": 0 }, 
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "type": "basic",
          "from": { "key_code": "japanese_kana", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "set_variable": { "name": "kana_mode", "value": 1 } } ],
          "parameters": { "basic.to_if_alone_timeout_milliseconds": 150},
          "to_if_alone": [ { "key_code": "japanese_kana" } ],
          "to_after_key_up": [ { "set_variable": { "name": "kana_mode","value": 0 } } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_on_off",  "value": 0 } ] }, 

        { "description": "Modifier: Right Shift --------------------------------------------------------------",
          "description": "Right Shift → Right Shift (activate in Vi mode)",
          "type": "basic",
          "from": { "key_code": "right_shift", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "key_code": "right_shift" } ],
          "conditions": [ { "type": "variable_if","name": "unset_mode", "value": 0 },
                          { "type": "variable_if", "name": "d_pressed",  "value": 0 }, 
                          { "type": "variable_if", "name": "y_pressed",  "value": 0 }, 
                          { "type": "variable_if", "name": "c_pressed",  "value": 0 }, 
                          { "type": "variable_if", "name": "g_pressed",  "value": 0 }, 
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 

        
        { "description": "------------------------------------------------------------------------------------",
          "description": " Layer 1-1                                                                          ",
          "description": "------------------------------------------------------------------------------------",
          
          "description": "1-1: q -----------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "q" },
          "to": [ { "set_variable": { "name": "vi_on_off", "value": 0 } }, 
                  { "set_variable": { "name": "vi_mode",   "value": 0 } }, 
                  { "set_notification_message": { "id": "vi_mode", "text": "" } },
                  { "shell_command": "open -a 'Microsoft Excel'" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 } ] }, 

        { "description": "1-1: w -----------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "w" },
          "to": [ { "set_variable": { "name": "vi_on_off", "value": 0 } }, 
                  { "set_variable": { "name": "vi_mode",   "value": 0 } }, 
                  { "set_notification_message": { "id": "vi_mode", "text": "" } },
                  { "shell_command": "open -a 'Microsoft Word'" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 } ] }, 

        { "description": "1-1: e -----------------------------------------------------",

          "description": "Application Branch",
          "description": "If front app is Preview, open QuickTime Player (two strokes)",
          "description": "Otherwise              , open Preview",
          "type": "basic",
          "from": { "key_code": "e" },
          "to": [ { "shell_command": "open -a 'QuickTime Player'" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "layer1-1_e", "value": 1 },
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 }, 
                          { "type": "frontmost_application_if", 
                            "bundle_identifiers": [ "^com\\.google\\.Chrome" ] } ] }, 
        { "type": "basic",
          "from": { "key_code": "e" },
          "to": [ { "set_variable": { "name": "layer1-1_e", "value": 1 } } ],
          "to_delayed_action": { 
          "to_if_invoked":  [ { "set_variable": { "name": "layer1-1_e", "value": 0 } } ], 
          "to_if_canceled": [ { "set_variable": { "name": "layer1-1_e", "value": 0 } } ] },
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 }, 
                          { "type": "frontmost_application_if", 
                            "bundle_identifiers": [ "^com\\.google\\.Chrome" ] } ] }, 
        { "type": "basic",
          "from": { "key_code": "e" },
          "to": [ { "set_variable": { "name": "vi_on_off", "value": 0 } }, 
                  { "set_variable": { "name": "vi_mode",   "value": 0 } }, 
                  { "set_notification_message": { "id": "vi_mode", "text": "" } },
                  { "shell_command": "open -a 'Google Chrome.app'" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 }, 
                          { "type": "frontmost_application_unless", 
                            "bundle_identifiers": [ "^com\\.google\\.Chrome" ] } ] }, 

        { "description": "1-1: r -----------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "r" },
          "to": [ { "set_variable": { "name": "vi_on_off", "value": 0 } }, 
                  { "set_variable": { "name": "vi_mode",   "value": 0 } }, 
                  { "set_notification_message": { "id": "vi_mode", "text": "" } },
                  { "shell_command": "open -a Preview" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 } ] }, 

        { "description": "1-1: t -----------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "t" },
          "to": [ { "set_variable": { "name": "vi_on_off", "value": 0 } }, 
                  { "set_variable": { "name": "vi_mode",   "value": 0 } }, 
                  { "set_notification_message": { "id": "vi_mode", "text": "" } },
                  { "shell_command": "open -a 'Microsoft PowerPoint'" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 } ] }, 

        { "description": "1-1: a -----------------------------------------------------",

          "description": "Application Branch",
          "description": "If front app is Notes, command + return ; Otherwise, command + shift + f2",
          "type": "basic",
          "from": { "key_code": "a" },
          "to": [ { "key_code": "return_or_enter", "modifiers": [ "command" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 }, 
                          { "type": "frontmost_application_if", 
                            "bundle_identifiers": [ "^com\\.apple\\.Notes" ] } ] }, 
        { "type": "basic",
          "from": { "key_code": "a" },
          "to": [ { "key_code": "f2", "modifiers": [ "command", "shift" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 }, 
                          { "type": "frontmost_application_unless", 
                            "bundle_identifiers": [ "^com\\.apple\\.Notes" ] } ] }, 

        { "description": "1-1: s -----------------------------------------------------",

          "description": "Application Branch",
          "description": "If front app is VScode, control + grave_accent ; Otherwise, open VScode",
          "type": "basic",
          "from": { "key_code": "s" },
          "to": [  { "shell_command": "open -a 'Visual Studio Code'" }, { "key_code": "japanese_eisuu" },
                  { "key_code": "grave_accent_and_tilde", "modifiers": [ "control" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "frontmost_application_if", 
                            "bundle_identifiers": [ "^com\\.microsoft\\.VSCode" ] } ] }, 
        { "type": "basic",
          "from": { "key_code": "s" },
          "to": [ { "set_variable": { "name": "vi_on_off", "value": 0 } }, 
                  { "set_variable": { "name": "vi_mode",   "value": 0 } }, 
                  { "set_notification_message": { "id": "vi_mode", "text": "" } },
                  { "shell_command": "open -a 'Visual Studio Code'" }, { "key_code": "japanese_eisuu" } ],  
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "frontmost_application_unless", 
                            "bundle_identifiers": [ "^com\\.microsoft\\.VSCode" ] } ] }, 

        { "description": "1-1: d -----------------------------------------------------",

          "description": "Application Branch",
          "description": "If front app is iTerm2, command + ] ; Otherwise, open iTerm2",
          "type": "basic",
          "from": { "key_code": "d" },
          "to": [ { "shell_command": "open -a iTerm.app" }, { "key_code": "japanese_eisuu" },
                  { "key_code": "c", "modifiers": [ "command", "shift" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "frontmost_application_if", 
                            "bundle_identifiers": [ "^com\\.googlecode\\.iterm2" ] } ] }, 
        { "type": "basic",
          "from": { "key_code": "d" },
          "to": [ { "set_variable": { "name": "vi_on_off", "value": 0 } }, 
                  { "set_variable": { "name": "vi_mode",   "value": 0 } }, 
                  { "set_notification_message": { "id": "vi_mode", "text": "" } },
                  { "shell_command": "open -a iTerm.app" }, { "key_code": "japanese_eisuu" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "frontmost_application_unless", 
                            "bundle_identifiers": [ "^com\\.googlecode\\.iterm2" ] } ] }, 

        { "description": "1-1: f -----------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "f" },
          "to": [ { "set_variable": { "name": "vi_on_off", "value": 0 } }, 
                  { "set_variable": { "name": "vi_mode",   "value": 0 } }, 
                  { "set_notification_message": { "id": "vi_mode", "text": "" } },
                  { "shell_command": "open -a 'Brave Browser'" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 } ] }, 

        { "description": "1-1: g -----------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "g" },
          "to": [ { "set_variable": { "name": "vi_on_off", "value": 0 } }, 
                  { "set_variable": { "name": "vi_mode",   "value": 0 } }, 
                  { "set_notification_message": { "id": "vi_mode", "text": "" } },
                  { "shell_command": "open -a Skim" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 } ] }, 

        { "description": "1-1: z -----------------------------------------------------",

          "description": "Application Branch",
          "description": "If front app is Calendar, command + ] ; Otherwise, open Calendar",
          "type": "basic",
          "from": { "key_code": "z" },
          "to": [ { "shell_command": "open -a Calendar" }, 
                  { "key_code": "n", "modifiers": [ "command" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "frontmost_application_if", 
                            "bundle_identifiers": [ "^com\\.apple\\.iCal" ] } ] }, 
        { "type": "basic",
          "from": { "key_code": "z" },
          "to": [ { "set_variable": { "name": "vi_on_off", "value": 0 } }, 
                  { "set_variable": { "name": "vi_mode",   "value": 0 } }, 
                  { "set_notification_message": { "id": "vi_mode", "text": "" } },
                  { "shell_command": "open -a Calendar" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "frontmost_application_unless", 
                            "bundle_identifiers": [ "^com\\.apple\\.iCal" ] } ] }, 

        { "description": "1-1: x -----------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "x" },
          "to": [ { "set_variable": { "name": "vi_on_off", "value": 0 } }, 
                  { "set_variable": { "name": "vi_mode",   "value": 0 } }, 
                  { "set_notification_message": { "id": "vi_mode", "text": "" } },
                  { "shell_command": "open -a Mail" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 } ] }, 

        { "description": "1-1: c -----------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "c" },
          "to": [ { "set_variable": { "name": "vi_on_off", "value": 0 } }, 
                  { "set_variable": { "name": "vi_mode",   "value": 0 } }, 
                  { "set_notification_message": { "id": "vi_mode", "text": "" } },
                  { "shell_command": "open -a Slack" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 } ] }, 

        { "description": "1-1: v -----------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "v" },
          "to": [ { "shell_command": "open -a Notes.app" },
                  { "set_variable": { "name": "vi_on_off", "value": 1 } },
                  { "set_variable": { "name": "vi_mode",   "value": 1 } },
                  { "set_notification_message": { "id": "vi_mode", "text": "-- NORMAL --" } } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 } ] }, 

        { "description": "1-1: b -----------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "b" },
          "to": [ { "set_variable": { "name": "vi_on_off", "value": 0 } }, 
                  { "set_variable": { "name": "vi_mode",   "value": 0 } }, 
                  { "set_notification_message": { "id": "vi_mode", "text": "" } },
                  { "shell_command": "open -a LINE" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 } ] }, 

        { "description": "1-1: h -----------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "h" },
          "to": [ { "key_code": "left_arrow" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 }, 
                          { "type": "variable_if", 
                            "name": "multitouch_extension_finger_count_total", "value": 0 } ] },

        { "description": "1-1: j -----------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "j" },
          "to": [ { "key_code": "down_arrow" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 }, 
                          { "type": "variable_if", 
                            "name": "multitouch_extension_finger_count_total", "value": 0 } ] },

        { "description": "1-1: k -----------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "k" },
          "to": [ { "key_code": "up_arrow" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 }, 
                          { "type": "variable_if", 
                            "name": "multitouch_extension_finger_count_total", "value": 0 } ] },

        { "description": "1-1: l -----------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "l" },
          "to": [ { "key_code": "right_arrow" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 }, 
                          { "type": "variable_if", 
                            "name": "multitouch_extension_finger_count_total", "value": 0 } ] },

        { "description": "1-1: semicolon ---------------------------------------------",
          "type": "basic",
          "from": { "key_code": "semicolon" },
          "to": [ { "set_variable": { "name": "vi_on_off", "value": 1 } },
                  { "set_variable": { "name": "vi_mode",   "value": 1 } },
                  { "set_notification_message": { "id": "vi_mode", "text": "-- NORMAL --" } } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 } ] }, 

        { "description": "1-1: quote ---------------------------------------------",
          "type": "basic",
          "from": { "key_code": "quote" },
          "to": [ { "set_variable": { "name": "vi_on_off", "value": 0 } }, 
                  { "set_variable": { "name": "vi_mode",   "value": 0 } }, 
                  { "set_notification_message": { "id": "vi_mode", "text": "" } } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 },
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 } ] }, 

        { "description": "1-1: space -------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "spacebar" },
          "to": [ { "set_variable": { "name": "vi_on_off", "value": 0 } }, 
                  { "set_variable": { "name": "vi_mode",   "value": 0 } }, 
                  { "set_notification_message": { "id": "vi_mode", "text": "" } },
                  { "key_code": "spacebar", "modifiers": [ "option" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 } ] }, 

        
        { "description": "------------------------------------------------------------------------------------",
          "description": " Layer 1-2                                                                          ",
          "description": "------------------------------------------------------------------------------------",
          
          "description": "1-2: q -----------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "q", "modifiers": { "mandatory": [ "left_command" ] } },
          "to": [ { "set_variable": { "name": "vi_on_off", "value": 0 } }, 
                  { "set_variable": { "name": "vi_mode",   "value": 0 } }, 
                  { "set_notification_message": { "id": "vi_mode", "text": "" } },
                  { "shell_command": "open -a 'Adobe Acrobat'" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 } ] }, 

        { "description": "1-2: w -----------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "w", "modifiers": { "mandatory": [ "left_command" ] } },
          "to": [ { "set_variable": { "name": "vi_on_off", "value": 0 } }, 
                  { "set_variable": { "name": "vi_mode",   "value": 0 } }, 
                  { "set_notification_message": { "id": "vi_mode", "text": "" } },
                  { "shell_command": "open -a LaTeXiT" }, { "key_code": "japanese_eisuu" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 } ] }, 

        { "description": "1-2: e -----------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "e", "modifiers": { "mandatory": [ "left_command" ] } },
          "to": [ { "set_variable": { "name": "vi_on_off", "value": 0 } }, 
                  { "set_variable": { "name": "vi_mode",   "value": 0 } }, 
                  { "set_notification_message": { "id": "vi_mode", "text": "" } },
                  { "shell_command": "open -a 'Adobe Illustrator'" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 } ] }, 

        { "description": "1-2: r -----------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "r", "modifiers": { "mandatory": [ "left_command" ] } },
          "to": [ { "set_variable": { "name": "vi_on_off", "value": 0 } }, 
                  { "set_variable": { "name": "vi_mode",   "value": 0 } }, 
                  { "set_notification_message": { "id": "vi_mode", "text": "" } },
                  { "shell_command": "open -a 'Adobe Photoshop 2022'" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 } ] }, 

        { "description": "1-2: t -----------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "t", "modifiers": { "mandatory": [ "left_command" ] } },
          "to": [ { "set_variable": { "name": "vi_on_off", "value": 0 } }, 
                  { "set_variable": { "name": "vi_mode",   "value": 0 } }, 
                  { "set_notification_message": { "id": "vi_mode", "text": "" } },
                  { "shell_command": "open -a Terminal.app" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 } ] }, 

        { "description": "1-2: s -----------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "s", "modifiers": { "mandatory": [ "left_command" ] } },
          "to": [ { "set_variable": { "name": "vi_on_off", "value": 0 } }, 
                  { "set_variable": { "name": "vi_mode",   "value": 0 } }, 
                  { "set_notification_message": { "id": "vi_mode", "text": "" } },
                  { "shell_command": "open -a zoom.us" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 } ] }, 

        { "description": "1-2: d -----------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "d", "modifiers": { "mandatory": [ "left_command" ] } },
          "to": [ { "set_variable": { "name": "vi_on_off", "value": 0 } }, 
                  { "set_variable": { "name": "vi_mode",   "value": 0 } }, 
                  { "set_notification_message": { "id": "vi_mode", "text": "" } },
                  { "shell_command": "open -a DeepL" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 } ] }, 

        { "description": "1-2: f -----------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "f", "modifiers": { "mandatory": [ "left_command" ] } },
          "to": [ { "set_variable": { "name": "vi_on_off", "value": 0 } }, 
                  { "set_variable": { "name": "vi_mode",   "value": 0 } }, 
                  { "set_notification_message": { "id": "vi_mode", "text": "" } },
                  { "shell_command": "open -a Finder.app" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 } ] }, 

        { "description": "1-2: g -----------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "g", "modifiers": { "mandatory": [ "left_command" ] } },
          "to": [ { "set_variable": { "name": "vi_on_off", "value": 0 } }, 
                  { "set_variable": { "name": "vi_mode",   "value": 0 } }, 
                  { "set_notification_message": { "id": "vi_mode", "text": "" } },
                  { "shell_command": "open -a 'System Settings.app'" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 } ] }, 

        { "description": "1-2: z -----------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "z", "modifiers": { "mandatory": [ "left_command" ] } },
          "to": [ { "set_variable": { "name": "vi_on_off", "value": 0 } }, 
                  { "set_variable": { "name": "vi_mode",   "value": 0 } }, 
                  { "set_notification_message": { "id": "vi_mode", "text": "" } },
                  { "shell_command": "open -a 'BetterTouchTool 3'" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 } ] }, 

        { "description": "1-2: c -----------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "c", "modifiers": { "mandatory": [ "left_command" ] } },
          "to": [ { "set_variable": { "name": "vi_on_off", "value": 0 } }, 
                  { "set_variable": { "name": "vi_mode",   "value": 0 } }, 
                  { "set_notification_message": { "id": "vi_mode", "text": "" } },
                  { "shell_command": "open -a Karabiner-Elements" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 } ] }, 

        { "description": "1-2: v -----------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "v", "modifiers": { "mandatory": [ "left_command" ] } },
          "to": [ { "set_variable": { "name": "vi_on_off", "value": 0 } }, 
                  { "set_variable": { "name": "vi_mode",   "value": 0 } }, 
                  { "set_notification_message": { "id": "vi_mode", "text": "" } },
                  { "shell_command": "open -a Karabiner-EventViewer" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 } ] }, 

        { "description": "1-2: b -----------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "b", 
                    "modifiers": { "mandatory": [ "left_command" ] } },
          "to": [ { "set_variable": { "name": "vi_on_off", "value": 0 } }, 
                  { "set_variable": { "name": "vi_mode",   "value": 0 } }, 
                  { "set_notification_message": { "id": "vi_mode", "text": "" } },
                  { "shell_command": "open -a ParaView-5.9.1.app" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 } ] }, 

        { "description": "1-2: h -----------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "h", 
                    "modifiers": { "mandatory": [ "left_command" ] } },
          "to": [ { "key_code": "mute" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 } ] }, 

        { "description": "1-2: j -----------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "j", 
                    "modifiers": { "mandatory": [ "left_command" ] } },
          "to": [ { "key_code": "volume_decrement" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 } ] }, 

        { "description": "1-2: k -----------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "k", 
                    "modifiers": { "mandatory": [ "left_command" ] } },
          "to": [ { "key_code": "volume_increment" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 } ] }, 

        { "description": "1-2: l -----------------------------------------------------",

          "description": "Application Branch",
          "description": "If front app is Notes, nothing ; Otherwise, escape + b",
          "type": "basic",
          "from": { "key_code": "l", 
                    "modifiers": { "mandatory": [ "left_command" ] } },
          "to": [ { "key_code": "escape" } , { "key_code": "b" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "frontmost_application_unless", 
                            "bundle_identifiers": [ "^com\\.apple\\.Notes" ] } ] }, 

        { "description": "1-2: semicolon ---------------------------------------------",

          "description": "Application Branch",
          "description": "If front app is Notes, nothing ; Otherwise, escape + f",
          "type": "basic",
          "from": { "key_code": "semicolon", 
                    "modifiers": { "mandatory": [ "left_command" ] } },
          "to": [ { "key_code": "escape" } , { "key_code": "f" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "frontmost_application_unless", 
                            "bundle_identifiers": [ "^com\\.apple\\.Notes" ] } ] }, 

        
        { "description": "------------------------------------------------------------------------------------",
          "description": " Layer 1-3                                                                          ",
          "description": "------------------------------------------------------------------------------------",
          
          "description": "1-3: w -----------------------------------------------------",

          "description": "Two-stroke",
          "type": "basic",
          "from": { "key_code": "w", "modifiers": { "mandatory": [ "left_control" ] } },
          "to": [ { "key_code": "j", "modifiers": [ "control","option" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "layer1-3_w", "value": 1 },
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 } ] }, 
        { "type": "basic",
          "from": { "key_code": "w", "modifiers": { "mandatory": [ "left_control" ] } },
          "to": [ { "set_variable": { "name": "layer1-3_w", "value": 1 } },
                  { "key_code": "u", "modifiers": [ "control","option" ] } ],
          "to_delayed_action": { 
          "to_if_invoked":  [ { "set_variable": { "name": "layer1-3_w", "value": 0 } } ], 
          "to_if_canceled": [ { "set_variable": { "name": "layer1-3_w", "value": 0 } } ] },
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "layer1-3_w", "value": 0 },
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 } ] }, 
          
        { "description": "1-3: e -----------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "e", "modifiers": { "mandatory": [ "left_control" ] } },
          "to": [ { "key_code": "right_arrow", "modifiers": [ "control","option","command" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 } ] }, 
          
        { "description": "1-3: r -----------------------------------------------------",

          "description": "Two-stroke",
          "type": "basic",
          "from": { "key_code": "r", "modifiers": { "mandatory": [ "left_control" ] } },
          "to": [ { "key_code": "k", "modifiers": [ "control","option" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "layer1-3_r", "value": 1 },
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 } ] }, 
        { "type": "basic",
          "from": { "key_code": "r", "modifiers": { "mandatory": [ "left_control" ] } },
          "to": [ { "set_variable": { "name": "layer1-3_r", "value": 1 } },
                  { "key_code": "i", "modifiers": [ "control","option" ] } ],
          "to_delayed_action": { 
          "to_if_invoked":  [ { "set_variable": { "name": "layer1-3_r", "value": 0 } } ], 
          "to_if_canceled": [ { "set_variable": { "name": "layer1-3_r", "value": 0 } } ] },
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "layer1-3_r", "value": 0 },
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 } ] }, 
          
        { "description": "1-3: s -----------------------------------------------------",

          "description": "Two-stroke",
          "type": "basic",
          "from": { "key_code": "s", "modifiers": { "mandatory": [ "left_control" ] } },
          "to": [ { "key_code": "down_arrow", "modifiers": [ "control","option" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "layer1-3_s", "value": 1 },
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 } ] }, 
        { "type": "basic",
          "from": { "key_code": "s", "modifiers": { "mandatory": [ "left_control" ] } },
          "to": [ { "set_variable": { "name": "layer1-3_s", "value": 1 } },
                  { "key_code": "left_arrow", "modifiers": [ "control","option" ] } ],
          "to_delayed_action": { 
          "to_if_invoked":  [ { "set_variable": { "name": "layer1-3_s", "value": 0 } } ], 
          "to_if_canceled": [ { "set_variable": { "name": "layer1-3_s", "value": 0 } } ] },
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "layer1-3_s", "value": 0 },
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 } ] }, 
          
        { "description": "1-3: d -----------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "d", "modifiers": { "mandatory": [ "left_control" ] } },
          "to": [ { "key_code": "return_or_enter", "modifiers": [ "control","option" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 } ] }, 
          
        { "description": "1-3: f -----------------------------------------------------",

          "description": "Two-stroke",
          "type": "basic",
          "from": { "key_code": "f", "modifiers": { "mandatory": [ "left_control" ] } },
          "to": [ { "key_code": "up_arrow", "modifiers": [ "control","option" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "layer1-3_f", "value": 1 },
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 } ] }, 
        { "type": "basic",
          "from": { "key_code": "f", "modifiers": { "mandatory": [ "left_control" ] } },
          "to": [ { "set_variable": { "name": "layer1-3_f", "value": 1 } },
                  { "key_code": "right_arrow", "modifiers": [ "control","option" ] } ],
          "to_delayed_action": { 
          "to_if_invoked":  [ { "set_variable": { "name": "layer1-3_f", "value": 0 } } ], 
          "to_if_canceled": [ { "set_variable": { "name": "layer1-3_f", "value": 0 } } ] },
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "layer1-3_f", "value": 0 },
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 } ] }, 
          
        { "description": "1-3: y -----------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "y", "modifiers": { "mandatory": [ "left_control" ] } },
          "to": [ { "key_code": "f11" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 } ] }, 
          
        { "description": "1-3: u -----------------------------------------------------",

          "description": "Application Branch",
          "description": "If vi_on_off is 1, nothing",
          "description": "If front app is iTerm,       command + shift + option  + [ ",
          "description": "Otherwise,                   page_up + shift + control    ",
          "type": "basic",
          "from": { "key_code": "u", "modifiers": { "mandatory": [ "left_control" ] } },
          "to": [ { "key_code": "close_bracket", "modifiers": [ "command","shift","option" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 0 }, 
                          { "type": "frontmost_application_if", 
                            "bundle_identifiers": [ "^com\\.googlecode\\.iterm2" ] } ] }, 
        { "type": "basic",
          "from": { "key_code": "u", "modifiers": { "mandatory": [ "left_control" ] } },
          "to": [ { "key_code": "page_up", "modifiers": [ "control","shift" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 0 } ] }, 
          
        { "description": "1-3: i -----------------------------------------------------",

          "description": "Application Branch",
          "description": "If vi_on_off is 1, nothing",
          "description": "If front app is iTerm,       command   + shift + option + ] ",
          "description": "Otherwise,                   page_down + shift + control    ",
          "type": "basic",
          "from": { "key_code": "i", "modifiers": { "mandatory": [ "left_control" ] } },
          "to": [ { "key_code": "backslash", "modifiers": [ "command","shift","option" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 0 }, 
                          { "type": "frontmost_application_if", 
                            "bundle_identifiers": [ "^com\\.googlecode\\.iterm2" ] } ] }, 
        { "type": "basic",
          "from": { "key_code": "i", "modifiers": { "mandatory": [ "left_control" ] } },
          "to": [ { "key_code": "page_down", "modifiers": [ "control","shift" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 0 } ] }, 
          
        { "description": "1-3: o -----------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "o", "modifiers": { "mandatory": [ "left_control" ] } },
          "to": [ { "key_code": "left_arrow", "modifiers": [ "control" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 } ] }, 
          
        { "description": "1-3: p -----------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "p", "modifiers": { "mandatory": [ "left_control" ] } },
          "to": [ { "key_code": "right_arrow", "modifiers": [ "control" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 } ] }, 
          
        { "description": "1-3: h -----------------------------------------------------",

          "description": "Application Branch",
          "description": "If vi_on_off is 1, nothing",
          "description": "If front app is iTerm      , command + shift   + [   ",
          "description": "If front app is VS code    , option  + command + ←   ",
          "description": "If front app is Excel      , option  + ←             ",
          "description": "Otherwise                  , control + shift   + tab ",
          "type": "basic",
          "from": { "key_code": "h", "modifiers": { "mandatory": [ "left_control" ] } },
          "to": [ { "key_code": "close_bracket", "modifiers": [ "command","shift" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 0 }, 
                          { "type": "frontmost_application_if", 
                            "bundle_identifiers": [ "^com\\.googlecode\\.iterm2" ] } ] }, 
        { "type": "basic",
          "from": { "key_code": "h", "modifiers": { "mandatory": [ "left_control" ] } },
          "to": [ { "key_code": "left_arrow", "modifiers": [ "option","command" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 0 }, 
                          { "type": "frontmost_application_if", 
                            "bundle_identifiers": [ "^com\\.microsoft\\.VSCode" ] } ] }, 
        { "type": "basic",
          "from": { "key_code": "h", "modifiers": { "mandatory": [ "left_control" ] } },
          "to": [ { "key_code": "left_arrow", "modifiers": [ "option" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 0 }, 
                          { "type": "frontmost_application_if", 
                            "bundle_identifiers": [ "^com\\.microsoft\\.Excel" ] } ] }, 
        { "type": "basic",
          "from": { "key_code": "h", "modifiers": { "mandatory": [ "left_control" ] } },
          "to": [ { "key_code": "tab", "modifiers": [ "control","shift" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 0 } ] }, 
          
        { "description": "1-3: j -----------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "j", "modifiers": { "mandatory": [ "left_control" ] } },
          "to": [ { "key_code": "mission_control" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 } ] }, 
          
        { "description": "1-3: k -----------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "k", "modifiers": { "mandatory": [ "left_control" ] } },
          "to": [ { "set_variable": { "name": "alt_tab_mode", "value": 1 } },
                  { "set_notification_message": { "id": "alt_tab_mode", "text": "Alt Tab mode" } },
                  { "key_code": "tab", "modifiers": [ "option" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode",   "value": 0 }, 
                          { "type": "variable_if", "name": "alt_tab_mode", "value": 0 },
                          { "type": "variable_if", "name": "eisuu_mode",   "value": 1 },
                          { "type": "variable_if", "name": "kana_mode",    "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",     "value": 0 } ] }, 
          
        { "description": "1-3: l -----------------------------------------------------",

          "description": "Application Branch",
          "description": "If vi_on_off is 1, nothing",
          "description": "If front app is iTerm      , command + shift   + ]   ",
          "description": "If front app is VS code    , option  + command + →   ",
          "description": "If front app is Excel      , option  + →             ",
          "description": "Otherwise                  , control + tab           ",
          "type": "basic",
          "from": { "key_code": "l", "modifiers": { "mandatory": [ "left_control" ] } },
          "to": [ { "key_code": "backslash", "modifiers": [ "command","shift" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 0 }, 
                          { "type": "frontmost_application_if", 
                            "bundle_identifiers": [ "^com\\.googlecode\\.iterm2" ] } ] }, 
        { "type": "basic",
          "from": { "key_code": "l", "modifiers": { "mandatory": [ "left_control" ] } },
          "to": [ { "key_code": "right_arrow", "modifiers": [ "option","command" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 0 }, 
                          { "type": "frontmost_application_if", 
                            "bundle_identifiers": [ "^com\\.microsoft\\.VSCode" ] } ] }, 
        { "type": "basic",
          "from": { "key_code": "l", "modifiers": { "mandatory": [ "left_control" ] } },
          "to": [ { "key_code": "right_arrow", "modifiers": [ "option" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 0 }, 
                          { "type": "frontmost_application_if", 
                            "bundle_identifiers": [ "^com\\.microsoft\\.Excel" ] } ] }, 
        { "type": "basic",
          "from": { "key_code": "l", "modifiers": { "mandatory": [ "left_control" ] } },
          "to": [ { "key_code": "tab", "modifiers": [ "control" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 0 } ] }, 
          
        { "description": "1-3: semicolon ---------------------------------------------",
          "type": "basic",
          "from": { "key_code": "semicolon", "modifiers": { "mandatory": [ "left_control" ] } },
          "to": [ { "key_code": "close_bracket", "modifiers": [ "command" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 } ] }, 
          
        { "description": "1-3: quote -------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "quote", "modifiers": { "mandatory": [ "left_control" ] } },
          "to": [ { "key_code": "backslash", "modifiers": [ "command" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 } ] }, 

        
        { "description": "------------------------------------------------------------------------------------",
          "description": " Layer 3-1                                                                          ",
          "description": "------------------------------------------------------------------------------------",
          
          "description": "3-1: s -----------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "s" },
          "to": [ { "key_code": "5", "modifiers": [ "left_shift","left_command" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 1 } ] },

        { "description": "3-1: d -----------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "d" },
          "to": [ { "key_code": "4", "modifiers": [ "left_shift","left_command" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 1 } ] },

        { "description": "3-1: f -----------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "f" },
          "to": [ { "key_code": "3", "modifiers": [ "left_shift","left_command" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 1 } ] },

        { "description": "3-1: c -----------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "c" },
          "to": [ { "key_code": "4", "modifiers": [ "left_shift","left_command","left_control" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 1 } ] },

        { "description": "3-1: v -----------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "v" },
          "to": [ { "key_code": "3", "modifiers": [ "left_shift","left_command","left_control" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 1 } ] },

        
        { "description": "------------------------------------------------------------------------------------",
          "description": " Layer 3-2                                                                          ",
          "description": "------------------------------------------------------------------------------------",
          
          "description": "3-2: w -----------------------------------------------------",

          "description": "Vi Branch",
          "description": "If vi_on_off is 1, nothing ; Otherwise, Command + Backspace",
          "type": "basic",
          "from": { "key_code": "r" },
          "to": [ { "key_code": "delete_or_backspace", "modifiers": [ "left_command" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 1 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 0 } ] }, 

        
        { "description": "------------------------------------------------------------------------------------",
          "description": " Layer 4-1                                                                          ",
          "description": "------------------------------------------------------------------------------------",
          
          "description": "4-1: d -----------------------------------------------------",

          "description": "d → Alone: command + ↓ , Modifier: speed 0.5",
          "type": "basic",
          "from": { "key_code": "d" },
          "to": [ { "mouse_key": { "speed_multiplier": 0.5 } } ],
          "parameters": { "basic.to_if_alone_timeout_milliseconds": 150},
          "to_if_alone": [ { "key_code": "down_arrow", "modifiers": [ "command" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 1 },
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 } ] },

        { "description": "4-1: f -----------------------------------------------------",

          "description": "f → Alone: command + ↑ , Modifier: speed 2.0",
          "type": "basic",
          "from": { "key_code": "f" },
          "to": [ { "mouse_key": { "speed_multiplier": 2.0 } } ],
          "parameters": { "basic.to_if_alone_timeout_milliseconds": 150},
          "to_if_alone": [ { "key_code": "up_arrow", "modifiers": [ "command" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 1 },
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 } ] },

        { "description": "4-1: h -----------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "h" },
          "to": [ { "key_code": "f13", "modifiers": [ "command", "control" ] },
                  { "mouse_key": { "horizontal_wheel": 64 } } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 1 },
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 } ] },

        { "description": "4-1: j -----------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "j" },
          "to": [ { "key_code": "f13", "modifiers": [ "command", "control" ] },
                  { "mouse_key": { "vertical_wheel": 64 } } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 1 },
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 } ] },

        { "description": "4-1: k -----------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "k" },
          "to": [ { "key_code": "f13", "modifiers": [ "command", "control" ] },
                  { "mouse_key": { "vertical_wheel": -64 } } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 1 },
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 } ] },

        { "description": "4-1: l -----------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "l" },
          "to": [ { "key_code": "f13", "modifiers": [ "command", "control" ] },
                  { "mouse_key": { "horizontal_wheel": -64 } } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 1 },
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 } ] },



        { "description": "--------------------------------------------",
          "description": " --Vi-- Command mode; semicolon ",
          "description": "--------------------------------------------",
        
          "type": "basic",
          "from": { "key_code": "semicolon" },
          "to": [ { "key_code": "return_or_enter" },{ "key_code": "escape" },   
                  { "set_variable": { "name": "vi_mode", "value": 1 } },
                  { "set_notification_message": { "id": "vi_mode", "text": "-- NORMAL --" } } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 4 }, 
                          { "type": "variable_if", "name": "v4_return",  "value": 1 },
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "input_source_if", "input_sources": [ { "language":"ja" } ] },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "type": "basic",
          "from": { "key_code": "semicolon" },
          "to": [ { "set_variable": { "name": "v4_return", "value": 1 } },
                  { "key_code": "return_or_enter" } ],
          "to_delayed_action": { 
          "to_if_invoked":  [ { "set_variable": { "name": "v4_return", "value": 0 } } ], 
          "to_if_canceled": [ { "set_variable": { "name": "v4_return", "value": 0 } } ] },
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 4 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "input_source_if", "input_sources": [ { "language":"ja" } ] },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 

        { "type": "basic",
          "from": { "key_code": "semicolon" },
          "to": [ { "key_code": "return_or_enter" },{ "key_code": "escape" },   
                  { "set_variable": { "name": "vi_mode", "value": 1 } },
                  { "set_notification_message": { "id": "vi_mode", "text": "-- NORMAL --" } } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 4 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "input_source_if", "input_sources": [ { "language":"en" } ] },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        
        
        { "description": "----------------------------------------------------",
          "description": " Visual Line mode; V,v,u + h,j,k,l + s,d,c,x,y,p ",
          "description": " Visual Line mode; gg,G ← 後で作成",
          "description": "----------------------------------------------------",
        
          "type": "basic",
          "from": { "key_code": "v" },
          "to": [ { "set_variable": { "name": "vi_mode", "value": 2 } },
                  { "set_notification_message": { "id": "vi_mode", "text": "-- VISUAL --" } } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode",            "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",               "value": 3 }, 
                          { "type": "variable_if", "name": "eisuu_mode",            "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",             "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",              "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "type": "basic",
          "from": { "key_code": "u" },
          "to": [ { "key_code": "left_arrow" },
                  { "set_variable": { "name": "visual_cursor_position", "value": 0 } },
                  { "set_variable": { "name": "vi_mode",                "value": 1 } },
                  { "set_notification_message": { "id": "vi_mode", "text": "-- NORMAL --" } },
                  { "key_code": "japanese_eisuu" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode",            "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",               "value": 3 }, 
                          { "type": "variable_if", "name": "eisuu_mode",            "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",             "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",              "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "type": "basic",
          "from": { "key_code": "h" },
          "to": [ { "key_code": "e", "modifiers": [ "control","shift" ] },
                  { "key_code": "a", "modifiers": [ "control","shift" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 3 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "type": "basic",
          "from": { "key_code": "j" },
          "to": [ { "set_variable": { "name": "visual_cursor_position", "value": 2 } },
                  { "key_code": "down_arrow",  "modifiers": [ "shift" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 3 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "type": "basic",
          "from": { "key_code": "k" },
          "to": [ { "set_variable": { "name": "visual_cursor_position", "value": 1 } },
                  { "key_code": "up_arrow",  "modifiers": [ "shift" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 3 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "type": "basic",
          "from": { "key_code": "l" },
          "to": [ { "key_code": "a", "modifiers": [ "control","shift" ] },
                  { "key_code": "e", "modifiers": [ "control","shift" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 3 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "type": "basic",
          "from": { "key_code": "s" },
          "to": [ { "set_variable": { "name": "visual_cursor_position", "value": 0 } },
                  { "key_code": "a", "modifiers": [ "control","shift" ] },
                  { "key_code": "e", "modifiers": [ "control","shift" ] },
                  { "key_code": "x", "modifiers": [ "command" ] },
                  { "set_variable": { "name": "cp_type", "value": 1 } },
                  { "set_variable": { "name": "vi_mode", "value": 0 } },
                  { "set_notification_message": { "id": "vi_mode", "text": "-- INSERT --" } } ], 
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 3 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "type": "basic",
          "from": { "key_code": "d" },
          "to": [ { "set_variable": { "name": "visual_cursor_position", "value": 0 } },
                  { "key_code": "a", "modifiers": [ "control","shift" ] },
                  { "key_code": "e", "modifiers": [ "control","shift" ] },
                  { "key_code": "x", "modifiers": [ "command" ] },
                  { "key_code": "delete_or_backspace" },
                  { "set_variable": { "name": "cp_type", "value": 1 } },
                  { "set_variable": { "name": "vi_mode", "value": 1 } },
                  { "set_notification_message": { "id": "vi_mode", "text": "-- NORMAL --" } } ], 
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 3 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "type": "basic",
          "from": { "key_code": "x" },
          "to": [ { "set_variable": { "name": "visual_cursor_position", "value": 0 } },
                  { "key_code": "a", "modifiers": [ "control","shift" ] },
                  { "key_code": "e", "modifiers": [ "control","shift" ] },
                  { "key_code": "x", "modifiers": [ "command" ] },
                  { "key_code": "delete_or_backspace" },
                  { "set_variable": { "name": "cp_type", "value": 1 } },
                  { "set_variable": { "name": "vi_mode", "value": 1 } },
                  { "set_notification_message": { "id": "vi_mode", "text": "-- NORMAL --" } } ], 
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 3 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "type": "basic",
          "from": { "key_code": "c" },
          "to": [ { "set_variable": { "name": "visual_cursor_position", "value": 0 } },
                  { "key_code": "a", "modifiers": [ "control","shift" ] },
                  { "key_code": "e", "modifiers": [ "control","shift" ] },
                  { "key_code": "x", "modifiers": [ "command" ] },
                  { "set_variable": { "name": "cp_type", "value": 1 } },
                  { "set_variable": { "name": "vi_mode", "value": 0 } },
                  { "set_notification_message": { "id": "vi_mode", "text": "-- INSERT --" } } ], 
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 3 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "type": "basic",
          "from": { "key_code": "y" },
          "to": [ { "set_variable": { "name": "visual_cursor_position", "value": 0 } },
                  { "key_code": "a", "modifiers": [ "control","shift" ] },
                  { "key_code": "e", "modifiers": [ "control","shift" ] },
                  { "key_code": "c", "modifiers": [ "command" ] },
                  { "key_code": "left_arrow" },
                  { "set_variable": { "name": "cp_type", "value": 1 } },
                  { "set_variable": { "name": "vi_mode", "value": 1 } },
                  { "set_notification_message": { "id": "vi_mode", "text": "-- NORMAL --" } } ], 
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 3 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "type": "basic",
          "from": { "key_code": "p" },
          "to": [ { "set_variable": { "name": "visual_cursor_position", "value": 0 } },
                  { "key_code": "a", "modifiers": [ "control","shift" ] },
                  { "key_code": "e", "modifiers": [ "control","shift" ] },
                  { "key_code": "v", "modifiers": [ "command" ] },
                  { "set_variable": { "name": "vi_mode", "value": 1 } },
                  { "set_notification_message": { "id": "vi_mode", "text": "-- NORMAL --" } } ], 
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 3 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "type": "basic",
          "from": { "any": "key_code", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "key_code": "vk_none" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },
                          { "type": "variable_if", "name": "vi_mode",    "value": 3 }, 
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        
        
        { "description": "---------------------------------------------------------------",
          "description": " Visual mode; v,u + h,j,k,l,w,e,b,0,^,$,gg,G,{,} + s,d,c,x,y,p ",
          "description": "---------------------------------------------------------------",
        
          "description": "If visual_cursor_position is 0",
          "type": "basic",
          "from": { "key_code": "v" },
          "to": [ { "set_variable": { "name": "vi_mode",                "value": 1 } },
                  { "set_notification_message": { "id": "vi_mode", "text": "-- NORMAL --" } },
                  { "key_code": "japanese_eisuu" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode",            "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",               "value": 2 }, 
                          { "type": "variable_if", "name": "visual_cursor_position","value": 0 },  
                          { "type": "variable_if", "name": "eisuu_mode",            "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",             "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",              "value": 0 },
                          { "type": "variable_if", 
                            "name": "multitouch_extension_finger_count_total", "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "description": "If visual_cursor_position is 1",
          "type": "basic",
          "from": { "key_code": "v" },
          "to": [ { "key_code": "left_arrow" },
                  { "set_variable": { "name": "visual_cursor_position", "value": 0 } },
                  { "set_variable": { "name": "vi_mode",                "value": 1 } },
                  { "set_notification_message": { "id": "vi_mode", "text": "-- NORMAL --" } },
                  { "key_code": "japanese_eisuu" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode",            "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",               "value": 2 }, 
                          { "type": "variable_if", "name": "visual_cursor_position","value": 1 },  
                          { "type": "variable_if", "name": "eisuu_mode",            "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",             "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",              "value": 0 },
                          { "type": "variable_if", 
                            "name": "multitouch_extension_finger_count_total", "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "description": "If visual_cursor_position is 2",
          "type": "basic",
          "from": { "key_code": "v" },
          "to": [ { "key_code": "right_arrow" },
                  { "set_variable": { "name": "visual_cursor_position", "value": 0 } },
                  { "set_variable": { "name": "vi_mode",                "value": 1 } },
                  { "set_notification_message": { "id": "vi_mode", "text": "-- NORMAL --" } },
                  { "key_code": "japanese_eisuu" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode",            "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",               "value": 2 }, 
                          { "type": "variable_if", "name": "visual_cursor_position","value": 2 },  
                          { "type": "variable_if", "name": "eisuu_mode",            "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",             "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",              "value": 0 },
                          { "type": "variable_if", 
                            "name": "multitouch_extension_finger_count_total", "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "type": "basic",
          "from": { "key_code": "v", "modifiers": { "mandatory": [ "shift" ] } },
          "to": [ { "key_code": "a", "modifiers": [ "control","shift" ] },
                  { "key_code": "e", "modifiers": [ "control","shift" ] },
                  { "set_variable": { "name": "vi_mode", "value": 3 } },
                  { "set_notification_message": { "id": "vi_mode", "text": "-- V-LINE --" } } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 2 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "type": "basic",
          "from": { "key_code": "v" },
          "to": [ { "key_code": "a", "modifiers": [ "control","shift" ] },
                  { "key_code": "e", "modifiers": [ "control","shift" ] },
                  { "set_variable": { "name": "vi_mode", "value": 3 } },
                  { "set_notification_message": { "id": "vi_mode", "text": "-- V-LINE --" } } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 2 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_unless", 
                            "name": "multitouch_extension_finger_count_total", "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "type": "basic",
          "from": { "key_code": "u" },
          "to": [ { "key_code": "left_arrow" },
                  { "set_variable": { "name": "visual_cursor_position", "value": 0 } },
                  { "set_variable": { "name": "vi_mode",                "value": 1 } },
                  { "set_notification_message": { "id": "vi_mode", "text": "-- NORMAL --" } },
                  { "key_code": "japanese_eisuu" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode",            "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",               "value": 2 }, 
                          { "type": "variable_if", "name": "eisuu_mode",            "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",             "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",              "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "type": "basic",
          "from": { "key_code": "h" },
          "to": [ { "set_variable": { "name": "visual_cursor_position", "value": 1 } }, 
                  { "key_code": "left_arrow", "modifiers": [ "shift" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 2 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "type": "basic",
          "from": { "key_code": "j" },
          "to": [ { "set_variable": { "name": "visual_cursor_position", "value": 2 } },
                  { "key_code": "down_arrow", "modifiers": [ "shift" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 2 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "type": "basic",
          "from": { "key_code": "k" },
          "to": [ { "set_variable": { "name": "visual_cursor_position", "value": 1 } },
                  { "key_code": "up_arrow", "modifiers": [ "shift" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 2 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "type": "basic",
          "from": { "key_code": "l" },
          "to": [ { "set_variable": { "name": "visual_cursor_position", "value": 2 } },
                  { "key_code": "right_arrow", "modifiers": [ "shift" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 2 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "type": "basic",
          "from": { "key_code": "w" },
          "to": [ { "set_variable": { "name": "visual_cursor_position", "value": 2 } },
                  { "key_code": "right_arrow", "modifiers": [ "shift","option" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 2 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "type": "basic",
          "from": { "key_code": "e" },
          "to": [ { "set_variable": { "name": "visual_cursor_position", "value": 2 } },
                  { "key_code": "right_arrow", "modifiers": [ "shift","option" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 2 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "type": "basic",
          "from": { "key_code": "b" },
          "to": [ { "set_variable": { "name": "visual_cursor_position", "value": 1 } },
                  { "key_code": "left_arrow", "modifiers": [ "shift","option" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 2 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "type": "basic",
          "from": { "key_code": "0" },
          "to": [ { "set_variable": { "name": "visual_cursor_position", "value": 1 } },
                  { "key_code": "left_arrow", "modifiers": [ "shift","command" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 2 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "type": "basic",
          "from": { "key_code": "semicolon" },
          "to": [ { "set_variable": { "name": "visual_cursor_position", "value": 1 } },
                  { "key_code": "left_arrow", "modifiers": [ "shift","command" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 2 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 1 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "type": "basic",
          "from": { "key_code": "6", "modifiers": { "mandatory": [ "shift" ] } },
          "to": [ { "set_variable": { "name": "visual_cursor_position", "value": 1 } },
                  { "key_code": "left_arrow", "modifiers": [ "shift","command" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 2 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "type": "basic",
          "from": { "key_code": "n" },
          "to": [ { "set_variable": { "name": "visual_cursor_position", "value": 1 } },
                  { "key_code": "left_arrow", "modifiers": [ "shift","command" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 2 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 1 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "type": "basic",
          "from": { "key_code": "4", "modifiers": { "mandatory": [ "shift" ] } },
          "to": [ { "set_variable": { "name": "visual_cursor_position", "value": 2 } },
                  { "key_code": "right_arrow", "modifiers": [ "shift","command" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 2 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "type": "basic",
          "from": { "key_code": "v" },
          "to": [ { "set_variable": { "name": "visual_cursor_position", "value": 2 } },
                  { "key_code": "right_arrow", "modifiers": [ "shift","command" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 2 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 1 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "type": "basic",
          "from": { "key_code": "g" },
          "to": [ { "set_variable": { "name": "visual_cursor_position", "value": 1 } },
                  { "key_code": "up_arrow", "modifiers": [ "shift","command" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 2 }, 
                          { "type": "variable_if", "name": "g_pressed",  "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "type": "basic",
          "from": { "key_code": "g" },
          "to": [ { "set_variable": { "name": "g_pressed", "value": 1 } },
                  { "set_notification_message": { "id": "g_pressed", "text": "g" } } ],
          "to_delayed_action": { 
          "to_if_invoked":  [ { "set_variable": { "name": "g_pressed", "value": 0 } },              
                              { "set_notification_message": { "id": "g_pressed", "text": "" } } ],
          "to_if_canceled": [ { "set_variable": { "name": "g_pressed", "value": 0 } },              
                              { "set_notification_message": { "id": "g_pressed", "text": "" } } ] }, 
          "parameters": { "basic.to_delayed_action_delay_milliseconds": 1000000000},
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 2 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "type": "basic",
          "from": { "key_code": "g", "modifiers": { "mandatory": [ "shift" ] } },
          "to": [ { "set_variable": { "name": "visual_cursor_position", "value": 2 } },
                  { "key_code": "down_arrow", "modifiers": [ "shift","command" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 2 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "type": "basic",
          "from": { "key_code": "g" },
          "to": [ { "set_variable": { "name": "visual_cursor_position", "value": 2 } },
                  { "key_code": "down_arrow", "modifiers": [ "shift","command" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 2 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_unless", 
                            "name": "multitouch_extension_finger_count_total", "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "type": "basic",
          "from": { "key_code": "open_bracket", "modifiers": { "mandatory": [ "shift" ] } },
          "to": [ { "set_variable": { "name": "visual_cursor_position", "value": 1 } },
                  { "key_code": "a", "modifiers": [ "shift","control" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 2 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "type": "basic",
          "from": { "key_code": "o" },
          "to": [ { "set_variable": { "name": "visual_cursor_position", "value": 1 } },
                  { "key_code": "a", "modifiers": [ "shift","control" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 2 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_unless", 
                            "name": "multitouch_extension_finger_count_total", "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "type": "basic",
          "from": { "key_code": "close_bracket", "modifiers": { "mandatory": [ "shift" ] } },
          "to": [ { "set_variable": { "name": "visual_cursor_position", "value": 2 } },
                  { "key_code": "e", "modifiers": [ "shift","control" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 2 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "type": "basic",
          "from": { "key_code": "p" },
          "to": [ { "set_variable": { "name": "visual_cursor_position", "value": 2 } },
                  { "key_code": "e", "modifiers": [ "shift","control" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 2 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_unless", 
                            "name": "multitouch_extension_finger_count_total", "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "type": "basic",
          "from": { "key_code": "s" },
          "to": [ { "set_variable": { "name": "visual_cursor_position", "value": 0 } },
                  { "key_code": "x", "modifiers": [ "command" ] },
                  { "set_variable": { "name": "cp_type", "value": 0 } },
                  { "set_variable": { "name": "vi_mode", "value": 0 } },
                  { "set_notification_message": { "id": "vi_mode", "text": "-- INSERT --" } } ], 
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 2 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "type": "basic",
          "from": { "key_code": "d" },
          "to": [ { "set_variable": { "name": "visual_cursor_position", "value": 0 } },
                  { "key_code": "x", "modifiers": [ "command" ] },
                  { "set_variable": { "name": "cp_type", "value": 0 } },
                  { "set_variable": { "name": "vi_mode", "value": 1 } },
                  { "set_notification_message": { "id": "vi_mode", "text": "-- NORMAL --" } } ], 
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 2 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "type": "basic",
          "from": { "key_code": "x" },
          "to": [ { "set_variable": { "name": "visual_cursor_position", "value": 0 } },
                  { "key_code": "x", "modifiers": [ "command" ] },
                  { "set_variable": { "name": "cp_type", "value": 0 } },
                  { "set_variable": { "name": "vi_mode", "value": 1 } },
                  { "set_notification_message": { "id": "vi_mode", "text": "-- NORMAL --" } } ], 
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 2 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "type": "basic",
          "from": { "key_code": "c" },
          "to": [ { "set_variable": { "name": "visual_cursor_position", "value": 0 } },
                  { "key_code": "x", "modifiers": [ "command" ] },
                  { "set_variable": { "name": "cp_type", "value": 0 } },
                  { "set_variable": { "name": "vi_mode", "value": 0 } },
                  { "set_notification_message": { "id": "vi_mode", "text": "-- INSERT --" } } ], 
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 2 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "type": "basic",
          "from": { "key_code": "y" },
          "to": [ { "set_variable": { "name": "visual_cursor_position", "value": 0 } },
                  { "key_code": "c", "modifiers": [ "command" ] },
                  { "key_code": "left_arrow" },
                  { "set_variable": { "name": "cp_type", "value": 0 } },
                  { "set_variable": { "name": "vi_mode", "value": 1 } },
                  { "set_notification_message": { "id": "vi_mode", "text": "-- NORMAL --" } } ], 
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 2 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 

        { "type": "basic",
          "from": { "key_code": "p" },
          "to": [ { "set_variable": { "name": "visual_cursor_position", "value": 0 } },
                  { "key_code": "v", "modifiers": [ "command" ] },
                  { "set_variable": { "name": "vi_mode", "value": 1 } },
                  { "set_notification_message": { "id": "vi_mode", "text": "-- NORMAL --" } } ], 
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 2 }, 
                          { "type": "variable_if", "name": "cp_type",    "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "type": "basic",
          "from": { "key_code": "p" },
          "to": [ { "set_variable": { "name": "visual_cursor_position", "value": 0 } },
                  { "key_code": "return_or_enter" },
                  { "key_code": "v", "modifiers": [ "command" ] },
                  { "key_code": "return_or_enter" },
                  { "set_variable": { "name": "vi_mode", "value": 1 } },
                  { "set_notification_message": { "id": "vi_mode", "text": "-- NORMAL --" } } ], 
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 2 }, 
                          { "type": "variable_if", "name": "cp_type",    "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 

        { "type": "basic",
          "from": { "any": "key_code", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "key_code": "vk_none" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },
                          { "type": "variable_if", "name": "vi_mode",    "value": 2 }, 
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        
        
        { "description": "---------------------------------------------------",
          "description": " Normal d mode:  dd,dw,de,db,d0,d^,d$,dgg,dG,d{,d} ",
          "description": "---------------------------------------------------",
        
          "description": "dd",
          "type": "basic",
          "from": { "key_code": "d" },
          "to": [ { "key_code": "right_arrow", "modifiers": [ "command","shift" ] },
                  { "key_code": "left_arrow",  "modifiers": [ "command","shift" ] }, 
                  { "key_code": "x", "modifiers": [ "command" ] },
                  { "key_code": "delete_or_backspace" }, 
                  { "set_variable": { "name": "cp_type", "value": 1 } } ], 
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 1 }, 
                          { "type": "variable_if", "name": "d_pressed",  "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "description": "dw",
          "type": "basic",
          "from": { "key_code": "w" },
          "to": [ { "key_code": "right_arrow", "modifiers": [ "option","shift" ] }, 
                  { "key_code": "x", "modifiers": [ "command" ] }, 
                  { "set_variable": { "name": "cp_type", "value": 0 } } ], 
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 1 }, 
                          { "type": "variable_if", "name": "d_pressed",  "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "description": "de",
          "type": "basic",
          "from": { "key_code": "e" },
          "to": [ { "key_code": "right_arrow", "modifiers": [ "option","shift" ] }, 
                  { "key_code": "x", "modifiers": [ "command" ] }, 
                  { "set_variable": { "name": "cp_type", "value": 0 } } ], 
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 1 }, 
                          { "type": "variable_if", "name": "d_pressed",  "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "description": "db",
          "type": "basic",
          "from": { "key_code": "b" },
          "to": [ { "key_code": "left_arrow", "modifiers": [ "option","shift" ] }, 
                  { "key_code": "x", "modifiers": [ "command" ] }, 
                  { "set_variable": { "name": "cp_type", "value": 0 } } ], 
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 1 }, 
                          { "type": "variable_if", "name": "d_pressed",  "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "description": "d0",
          "type": "basic",
          "from": { "key_code": "0" },
          "to": [ { "key_code": "left_arrow", "modifiers": [ "command","shift" ] }, 
                  { "key_code": "x", "modifiers": [ "command" ] }, 
                  { "set_variable": { "name": "cp_type", "value": 0 } } ], 
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 1 }, 
                          { "type": "variable_if", "name": "d_pressed",  "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "description": "d0",
          "type": "basic",
          "from": { "key_code": "semicolon" },
          "to": [ { "key_code": "left_arrow", "modifiers": [ "command","shift" ] }, 
                  { "key_code": "x", "modifiers": [ "command" ] }, 
                  { "set_variable": { "name": "cp_type", "value": 0 } } ], 
          "conditions": [ { "type": "variable_if", "name": "unset_mode",     "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",        "value": 1 }, 
                          { "type": "variable_if", "name": "d-kana_pressed", "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode",     "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",      "value": 1 }, 
                          { "type": "variable_if", "name": "tab_mode",       "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "description": "d^",
          "type": "basic",
          "from": { "key_code": "6", "modifiers": { "mandatory": [ "shift" ] } },
          "to": [ { "key_code": "left_arrow", "modifiers": [ "command","shift" ] }, 
                  { "key_code": "x", "modifiers": [ "command" ] }, 
                  { "set_variable": { "name": "cp_type", "value": 0 } } ], 
          "conditions": [ { "type": "variable_if", "name": "unset_mode",      "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",         "value": 1 }, 
                          { "type": "variable_if", "name": "d-shift_pressed", "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode",      "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",       "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",        "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "description": "d^",
          "type": "basic",
          "from": { "key_code": "n" },
          "to": [ { "key_code": "left_arrow", "modifiers": [ "command","shift" ] }, 
                  { "key_code": "x", "modifiers": [ "command" ] }, 
                  { "set_variable": { "name": "cp_type", "value": 0 } } ], 
          "conditions": [ { "type": "variable_if", "name": "unset_mode",     "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",        "value": 1 }, 
                          { "type": "variable_if", "name": "d-kana_pressed", "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode",     "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",      "value": 1 }, 
                          { "type": "variable_if", "name": "tab_mode",       "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "description": "d$",
          "type": "basic",
          "from": { "key_code": "4", "modifiers": { "mandatory": [ "shift" ] } },
          "to": [ { "key_code": "right_arrow", "modifiers": [ "command","shift" ] }, 
                  { "key_code": "x", "modifiers": [ "command" ] }, 
                  { "set_variable": { "name": "cp_type", "value": 0 } } ], 
          "conditions": [ { "type": "variable_if", "name": "unset_mode",       "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",          "value": 1 }, 
                          { "type": "variable_if", "name": "d-shift_pressed",  "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode",       "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",        "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",         "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "description": "d$",
          "type": "basic",
          "from": { "key_code": "v" },
          "to": [ { "key_code": "right_arrow", "modifiers": [ "command","shift" ] }, 
                  { "key_code": "x", "modifiers": [ "command" ] }, 
                  { "set_variable": { "name": "cp_type", "value": 0 } } ], 
          "conditions": [ { "type": "variable_if", "name": "unset_mode",     "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",        "value": 1 }, 
                          { "type": "variable_if", "name": "d-kana_pressed", "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode",     "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",      "value": 1 }, 
                          { "type": "variable_if", "name": "tab_mode",       "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "description": "dgg",
          "type": "basic",
          "from": { "key_code": "g" },
          "to": [ { "key_code": "right_arrow", "modifiers": [ "command" ] }, 
                  { "key_code": "up_arrow", "modifiers": [ "command","shift" ] }, 
                  { "key_code": "x", "modifiers": [ "command" ] }, 
                  { "set_variable": { "name": "cp_type", "value": 1 } } ], 
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 1 }, 
                          { "type": "variable_if", "name": "dg_pressed", "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", 
                            "name": "multitouch_extension_finger_count_total", "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "description": "dgg",
          "type": "basic",
          "from": { "key_code": "g" },
          "to": [ { "set_variable": { "name": "dg_pressed", "value": 1 } },
                  { "set_notification_message": { "id": "dg_pressed", "text": "dg" } } ],
          "to_delayed_action": { 
          "to_if_invoked":  [ { "set_variable": { "name": "dg_pressed", "value": 0 } },              
                              { "set_notification_message": { "id": "dg_pressed", "text": "" } } ],
          "to_if_canceled": [ { "set_variable": { "name": "dg_pressed", "value": 0 } },              
                              { "set_notification_message": { "id": "dg_pressed", "text": "" } } ] }, 
          "parameters": { "basic.to_delayed_action_delay_milliseconds": 1000000000},
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 1 }, 
                          { "type": "variable_if", "name": "d_pressed",  "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", 
                            "name": "multitouch_extension_finger_count_total", "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "description": "dG",
          "type": "basic",
          "from": { "key_code": "g", "modifiers": { "mandatory": [ "shift" ] } },
          "to": [ { "key_code": "left_arrow", "modifiers": [ "command" ] }, 
                  { "key_code": "down_arrow", "modifiers": [ "command","shift" ] }, 
                  { "key_code": "x", "modifiers": [ "command" ] }, 
                  { "set_variable": { "name": "cp_type", "value": 1 } } ], 
          "conditions": [ { "type": "variable_if", "name": "unset_mode",      "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",         "value": 1 }, 
                          { "type": "variable_if", "name": "d-shift_pressed", "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode",      "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",       "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",        "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "description": "dG",
          "type": "basic",
          "from": { "key_code": "g" },
          "to": [ { "key_code": "left_arrow", "modifiers": [ "command" ] }, 
                  { "key_code": "down_arrow", "modifiers": [ "command","shift" ] }, 
                  { "key_code": "x", "modifiers": [ "command" ] }, 
                  { "set_variable": { "name": "cp_type", "value": 1 } } ], 
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 1 }, 
                          { "type": "variable_if", "name": "d_pressed",  "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_unless", 
                            "name": "multitouch_extension_finger_count_total", "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "description": "d{",
          "type": "basic",
          "from": { "key_code": "open_bracket", "modifiers": { "mandatory": [ "shift" ] } },
          "to": [ { "key_code": "a", "modifiers": [ "control","shift" ] }, 
                  { "key_code": "x", "modifiers": [ "command" ] }, 
                  { "set_variable": { "name": "cp_type", "value": 0 } } ], 
          "conditions": [ { "type": "variable_if", "name": "unset_mode",       "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",          "value": 1 }, 
                          { "type": "variable_if", "name": "d-shift_pressed",  "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode",       "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",        "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",         "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "description": "d{",
          "type": "basic",
          "from": { "key_code": "o" },
          "to": [ { "key_code": "a", "modifiers": [ "control","shift" ] }, 
                  { "key_code": "x", "modifiers": [ "command" ] }, 
                  { "set_variable": { "name": "cp_type", "value": 0 } } ], 
          "conditions": [ { "type": "variable_if", "name": "unset_mode",     "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",        "value": 1 }, 
                          { "type": "variable_if", "name": "d-kana_pressed", "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode",     "value": 1 }, 
                          { "type": "variable_if", "name": "kana_mode",      "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",       "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "description": "d}",
          "type": "basic",
          "from": { "key_code": "close_bracket", "modifiers": { "mandatory": [ "shift" ] } },
          "to": [ { "key_code": "e", "modifiers": [ "control","shift" ] }, 
                  { "key_code": "x", "modifiers": [ "command" ] }, 
                  { "set_variable": { "name": "cp_type", "value": 0 } } ], 
          "conditions": [ { "type": "variable_if", "name": "unset_mode",       "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",          "value": 1 }, 
                          { "type": "variable_if", "name": "d-shift_pressed",  "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode",       "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",        "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",         "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "description": "d}",
          "type": "basic",
          "from": { "key_code": "p" },
          "to": [ { "key_code": "e", "modifiers": [ "control","shift" ] }, 
                  { "key_code": "x", "modifiers": [ "command" ] }, 
                  { "set_variable": { "name": "cp_type", "value": 0 } } ], 
          "conditions": [ { "type": "variable_if", "name": "unset_mode",     "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",        "value": 1 }, 
                          { "type": "variable_if", "name": "d-kana_pressed", "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode",     "value": 1 }, 
                          { "type": "variable_if", "name": "kana_mode",      "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",       "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 

        { "description": "D Pressed;; Kana → Alone: Kana, Modifier: Layer 2",
          "description": "Caution!: Same settings exist in 40%.",
          "type": "basic",
          "from": { "key_code": "japanese_kana", "modifiers": { "optional": [ "any" ] } },
          "to_if_held_down": [ { "set_variable": { "name": "kana_mode",      "value": 1 } },
                               { "set_variable": { "name": "d-kana_pressed", "value": 1 } },
                               { "set_notification_message": { "id": "d-kana_pressed", "text": "d" } } ],
          "to_delayed_action": { 
          "to_if_invoked":  [ { "set_variable": { "name": "d-kana_pressed", "value": 0 } },              
                              { "set_notification_message": { "id": "d-kana_pressed", "text": "" } } ],
          "to_if_canceled": [ { "set_variable": { "name": "d-kana_pressed", "value": 0 } },              
                              { "set_notification_message": { "id": "d-kana_pressed", "text": "" } } ] }, 
          "to_if_alone": [ { "key_code": "japanese_kana" } ],
          "to_after_key_up": [ { "set_variable": { "name": "kana_mode","value": 0 } },
                               { "set_variable": { "name": "d-kana_pressed", "value": 0 } },              
                               { "set_notification_message": { "id": "d-kana_pressed", "text": "" } } ], 
          "parameters": { "basic.to_if_held_down_threshold_milliseconds": 1,
                          "basic.to_delayed_action_delay_milliseconds": 1000000000,
                          "basic.to_if_alone_timeout_milliseconds": 150 },
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },
                          { "type": "variable_if", "name": "d_pressed",  "value": 1 }, 
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 

        { "description": "D Pressed;; Caps lock → Left Shift",
          "description": "Caution!: Same settings exist in 40%.",
          "type": "basic",
          "from": { "key_code": "caps_lock" },
          "to_if_held_down": [ { "set_variable": { "name": "d-shift_pressed", "value": 1 } },
                               { "set_notification_message": { "id": "d-shift_pressed", "text": "d" } },
                               { "key_code": "left_shift" } ],
          "to_delayed_action": { 
          "to_if_invoked":  [ { "set_variable": { "name": "d-shift_pressed", "value": 0 } },              
                              { "set_notification_message": { "id": "d-shift_pressed", "text": "" } } ],
          "to_if_canceled": [ { "set_variable": { "name": "d-shift_pressed", "value": 0 } },              
                              { "set_notification_message": { "id": "d-shift_pressed", "text": "" } } ] }, 
          "to_after_key_up": [ { "set_variable": { "name": "d-shift_pressed", "value": 0 } },              
                               { "set_notification_message": { "id": "d-shift_pressed", "text": "" } } ], 
          "parameters": { "basic.to_if_held_down_threshold_milliseconds": 1,
                          "basic.to_delayed_action_delay_milliseconds": 1000000000 },
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 1 }, 
                          { "type": "variable_if", "name": "d_pressed",  "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 

        { "description": "D Pressed;; Right Shift → Right Shift",
          "description": "Caution!: Same settings exist in 40%.",
          "type": "basic",
          "from": { "key_code": "right_shift" },
          "to_if_held_down": [ { "set_variable": { "name": "d-shift_pressed", "value": 1 } },
                               { "set_notification_message": { "id": "d-shift_pressed", "text": "d" } },
                               { "key_code": "right_shift" } ],
          "to_delayed_action": { 
          "to_if_invoked":  [ { "set_variable": { "name": "d-shift_pressed", "value": 0 } },              
                              { "set_notification_message": { "id": "d-shift_pressed", "text": "" } } ],
          "to_if_canceled": [ { "set_variable": { "name": "d-shift_pressed", "value": 0 } },              
                              { "set_notification_message": { "id": "d-shift_pressed", "text": "" } } ] }, 
          "to_after_key_up": [ { "set_variable": { "name": "d-shift_pressed", "value": 0 } },              
                               { "set_notification_message": { "id": "d-shift_pressed", "text": "" } } ], 
          "parameters": { "basic.to_if_held_down_threshold_milliseconds": 1,
                          "basic.to_delayed_action_delay_milliseconds": 1000000000 },
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 1 }, 
                          { "type": "variable_if", "name": "d_pressed",  "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        
        
        { "description": "---------------------------------------------------",
          "description": " Normal y mode:  yy,yw,ye,yb,y0,y^,y$,ygg,yG,y{,y} ",
          "description": "---------------------------------------------------",
        
          "description": "yy",
          "type": "basic",
          "from": { "key_code": "y" },
          "to": [ { "key_code": "left_arrow",  "modifiers": [ "command","shift" ] },
                  { "key_code": "right_arrow", "modifiers": [ "command","shift" ] }, 
                  { "key_code": "c", "modifiers": [ "command" ] },
                  { "key_code": "right_arrow", "modifiers": [ "command" ] },
                  { "set_variable": { "name": "cp_type", "value": 1 } } ], 
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 1 }, 
                          { "type": "variable_if", "name": "y_pressed",  "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "description": "yw",
          "type": "basic",
          "from": { "key_code": "w" },
          "to": [ { "key_code": "right_arrow", "modifiers": [ "option","shift" ] }, 
                  { "key_code": "c", "modifiers": [ "command" ] }, 
                  { "key_code": "left_arrow" }, 
                  { "set_variable": { "name": "cp_type", "value": 0 } } ], 
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 1 }, 
                          { "type": "variable_if", "name": "y_pressed",  "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "description": "ye",
          "type": "basic",
          "from": { "key_code": "e" },
          "to": [ { "key_code": "right_arrow", "modifiers": [ "option","shift" ] }, 
                  { "key_code": "c", "modifiers": [ "command" ] }, 
                  { "key_code": "left_arrow" }, 
                  { "set_variable": { "name": "cp_type", "value": 0 } } ], 
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 1 }, 
                          { "type": "variable_if", "name": "y_pressed",  "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "description": "yb",
          "type": "basic",
          "from": { "key_code": "b" },
          "to": [ { "key_code": "left_arrow", "modifiers": [ "option","shift" ] }, 
                  { "key_code": "c", "modifiers": [ "command" ] }, 
                  { "key_code": "right_arrow" }, 
                  { "set_variable": { "name": "cp_type", "value": 0 } } ], 
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 1 }, 
                          { "type": "variable_if", "name": "y_pressed",  "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "description": "y0",
          "type": "basic",
          "from": { "key_code": "0" },
          "to": [ { "key_code": "left_arrow", "modifiers": [ "command","shift" ] }, 
                  { "key_code": "c", "modifiers": [ "command" ] }, 
                  { "key_code": "right_arrow" }, 
                  { "set_variable": { "name": "cp_type", "value": 0 } } ], 
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 1 }, 
                          { "type": "variable_if", "name": "y_pressed",  "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "description": "y0",
          "type": "basic",
          "from": { "key_code": "semicolon" },
          "to": [ { "key_code": "left_arrow", "modifiers": [ "command","shift" ] }, 
                  { "key_code": "c", "modifiers": [ "command" ] }, 
                  { "key_code": "right_arrow" }, 
                  { "set_variable": { "name": "cp_type", "value": 0 } } ], 
          "conditions": [ { "type": "variable_if", "name": "unset_mode",     "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",        "value": 1 }, 
                          { "type": "variable_if", "name": "y-kana_pressed", "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode",     "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",      "value": 1 }, 
                          { "type": "variable_if", "name": "tab_mode",       "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",      "value": 1 } ] }, 
        { "description": "y^",
          "type": "basic",
          "from": { "key_code": "6", "modifiers": { "mandatory": [ "shift" ] } },
          "to": [ { "key_code": "left_arrow", "modifiers": [ "command","shift" ] }, 
                  { "key_code": "c", "modifiers": [ "command" ] }, 
                  { "key_code": "right_arrow" }, 
                  { "set_variable": { "name": "cp_type", "value": 0 } } ], 
          "conditions": [ { "type": "variable_if", "name": "unset_mode",      "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",         "value": 1 }, 
                          { "type": "variable_if", "name": "y-shift_pressed", "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode",      "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",       "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",        "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",       "value": 1 } ] }, 
        { "description": "y^",
          "type": "basic",
          "from": { "key_code": "h" },
          "to": [ { "key_code": "left_arrow", "modifiers": [ "command","shift" ] }, 
                  { "key_code": "c", "modifiers": [ "command" ] }, 
                  { "key_code": "right_arrow" }, 
                  { "set_variable": { "name": "cp_type", "value": 0 } } ], 
          "conditions": [ { "type": "variable_if", "name": "unset_mode",     "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",        "value": 1 }, 
                          { "type": "variable_if", "name": "y-kana_pressed", "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode",     "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",      "value": 1 }, 
                          { "type": "variable_if", "name": "tab_mode",       "value": 0 },
                          { "type": "variable_unless", 
                            "name": "multitouch_extension_finger_count_total", "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",        "value": 1 } ] }, 
        { "description": "y$",
          "type": "basic",
          "from": { "key_code": "4", "modifiers": { "mandatory": [ "shift" ] } },
          "to": [ { "key_code": "right_arrow", "modifiers": [ "command","shift" ] }, 
                  { "key_code": "c", "modifiers": [ "command" ] }, 
                  { "key_code": "left_arrow" }, 
                  { "set_variable": { "name": "cp_type", "value": 0 } } ], 
          "conditions": [ { "type": "variable_if", "name": "unset_mode",       "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",          "value": 1 }, 
                          { "type": "variable_if", "name": "y-shift_pressed",  "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode",       "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",        "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",         "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",        "value": 1 } ] }, 
        { "description": "y$",
          "type": "basic",
          "from": { "key_code": "f" },
          "to": [ { "key_code": "right_arrow", "modifiers": [ "command","shift" ] }, 
                  { "key_code": "c", "modifiers": [ "command" ] }, 
                  { "key_code": "left_arrow" }, 
                  { "set_variable": { "name": "cp_type", "value": 0 } } ], 
          "conditions": [ { "type": "variable_if", "name": "unset_mode",     "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",        "value": 1 }, 
                          { "type": "variable_if", "name": "y-kana_pressed", "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode",     "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",      "value": 1 }, 
                          { "type": "variable_if", "name": "tab_mode",       "value": 0 },
                          { "type": "variable_unless", 
                            "name": "multitouch_extension_finger_count_total", "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",        "value": 1 } ] }, 
        { "description": "ygg",
          "type": "basic",
          "from": { "key_code": "g" },
          "to": [ { "key_code": "right_arrow", "modifiers": [ "command" ] }, 
                  { "key_code": "up_arrow", "modifiers": [ "command","shift" ] }, 
                  { "key_code": "c", "modifiers": [ "command" ] }, 
                  { "key_code": "right_arrow" }, 
                  { "set_variable": { "name": "cp_type", "value": 1 } } ], 
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 1 }, 
                          { "type": "variable_if", "name": "yg_pressed", "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", 
                            "name": "multitouch_extension_finger_count_total", "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",        "value": 1 } ] }, 
        { "description": "ygg",
          "type": "basic",
          "from": { "key_code": "g" },
          "to": [ { "set_variable": { "name": "yg_pressed", "value": 1 } },
                  { "set_notification_message": { "id": "yg_pressed", "text": "yg" } } ],
          "to_delayed_action": { 
          "to_if_invoked":  [ { "set_variable": { "name": "yg_pressed", "value": 0 } },              
                              { "set_notification_message": { "id": "yg_pressed", "text": "" } } ],
          "to_if_canceled": [ { "set_variable": { "name": "yg_pressed", "value": 0 } },              
                              { "set_notification_message": { "id": "yg_pressed", "text": "" } } ] }, 
          "parameters": { "basic.to_delayed_action_delay_milliseconds": 1000000000},
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 1 }, 
                          { "type": "variable_if", "name": "y_pressed",  "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", 
                            "name": "multitouch_extension_finger_count_total", "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",        "value": 1 } ] }, 
        { "description": "yG",
          "type": "basic",
          "from": { "key_code": "g", "modifiers": { "mandatory": [ "shift" ] } },
          "to": [ { "key_code": "left_arrow", "modifiers": [ "command" ] }, 
                  { "key_code": "down_arrow", "modifiers": [ "command","shift" ] }, 
                  { "key_code": "c", "modifiers": [ "command" ] }, 
                  { "key_code": "left_arrow" }, 
                  { "set_variable": { "name": "cp_type", "value": 1 } } ], 
          "conditions": [ { "type": "variable_if", "name": "unset_mode",      "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",         "value": 1 }, 
                          { "type": "variable_if", "name": "y-shift_pressed", "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode",      "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",       "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",        "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",       "value": 1 } ] }, 
        { "description": "yG",
          "type": "basic",
          "from": { "key_code": "g" },
          "to": [ { "key_code": "left_arrow", "modifiers": [ "command" ] }, 
                  { "key_code": "down_arrow", "modifiers": [ "command","shift" ] }, 
                  { "key_code": "c", "modifiers": [ "command" ] }, 
                  { "key_code": "left_arrow" }, 
                  { "set_variable": { "name": "cp_type", "value": 1 } } ], 
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 1 }, 
                          { "type": "variable_if", "name": "y_pressed",  "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_unless", 
                            "name": "multitouch_extension_finger_count_total", "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",        "value": 1 } ] }, 
        { "description": "y{",
          "type": "basic",
          "from": { "key_code": "open_bracket", "modifiers": { "mandatory": [ "shift" ] } },
          "to": [ { "key_code": "a", "modifiers": [ "control","shift" ] }, 
                  { "key_code": "c", "modifiers": [ "command" ] }, 
                  { "key_code": "right_arrow" }, 
                  { "set_variable": { "name": "cp_type", "value": 0 } } ], 
          "conditions": [ { "type": "variable_if", "name": "unset_mode",      "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",         "value": 1 }, 
                          { "type": "variable_if", "name": "y-shift_pressed", "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode",      "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",       "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",        "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",       "value": 1 } ] }, 
        { "description": "y{",
          "type": "basic",
          "from": { "key_code": "o" },
          "to": [ { "key_code": "a", "modifiers": [ "control","shift" ] }, 
                  { "key_code": "c", "modifiers": [ "command" ] }, 
                  { "key_code": "right_arrow" }, 
                  { "set_variable": { "name": "cp_type", "value": 0 } } ], 
          "conditions": [ { "type": "variable_if", "name": "unset_mode",     "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",        "value": 1 }, 
                          { "type": "variable_if", "name": "y-kana_pressed", "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode",     "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",      "value": 1 }, 
                          { "type": "variable_if", "name": "tab_mode",       "value": 0 },
                          { "type": "variable_unless", 
                            "name": "multitouch_extension_finger_count_total", "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",       "value": 1 } ] }, 
        { "description": "y}",
          "type": "basic",
          "from": { "key_code": "close_bracket", "modifiers": { "mandatory": [ "shift" ] } },
          "to": [ { "key_code": "e", "modifiers": [ "control","shift" ] }, 
                  { "key_code": "c", "modifiers": [ "command" ] }, 
                  { "key_code": "left_arrow" }, 
                  { "set_variable": { "name": "cp_type", "value": 0 } } ], 
          "conditions": [ { "type": "variable_if", "name": "unset_mode",      "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",         "value": 1 }, 
                          { "type": "variable_if", "name": "y-shift_pressed", "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode",      "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",       "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",        "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",       "value": 1 } ] }, 
        { "description": "y}",
          "type": "basic",
          "from": { "key_code": "p" },
          "to": [ { "key_code": "e", "modifiers": [ "control","shift" ] }, 
                  { "key_code": "c", "modifiers": [ "command" ] }, 
                  { "key_code": "left_arrow" }, 
                  { "set_variable": { "name": "cp_type", "value": 0 } } ], 
          "conditions": [ { "type": "variable_if", "name": "unset_mode",     "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",        "value": 1 }, 
                          { "type": "variable_if", "name": "y-kana_pressed", "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode",     "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",      "value": 1 }, 
                          { "type": "variable_if", "name": "tab_mode",       "value": 0 },
                          { "type": "variable_unless", 
                            "name": "multitouch_extension_finger_count_total", "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",       "value": 1 } ] }, 
        { "description": "Y Pressed;; Kana → Alone: Kana, Modifier: Layer 2",
          "description": "Caution!: Same settings exist in 40%.",
          "type": "basic",
          "from": { "key_code": "japanese_kana", "modifiers": { "optional": [ "any" ] } },
          "to_if_held_down": [ { "set_variable": { "name": "kana_mode",      "value": 1 } },
                               { "set_variable": { "name": "y-kana_pressed", "value": 1 } },
                               { "set_notification_message": { "id": "y-kana_pressed", "text": "y" } } ],
          "to_delayed_action": { 
          "to_if_invoked":  [ { "set_variable": { "name": "y-kana_pressed", "value": 0 } },              
                              { "set_notification_message": { "id": "y-kana_pressed", "text": "" } } ],
          "to_if_canceled": [ { "set_variable": { "name": "y-kana_pressed", "value": 0 } },              
                              { "set_notification_message": { "id": "y-kana_pressed", "text": "" } } ] }, 
          "to_if_alone": [ { "key_code": "japanese_kana" } ],
          "to_after_key_up": [ { "set_variable": { "name": "kana_mode","value": 0 } },
                               { "set_variable": { "name": "y-kana_pressed", "value": 0 } },              
                               { "set_notification_message": { "id": "y-kana_pressed", "text": "" } } ], 
          "parameters": { "basic.to_if_held_down_threshold_milliseconds": 1,
                          "basic.to_delayed_action_delay_milliseconds": 1000000000,
                          "basic.to_if_alone_timeout_milliseconds": 150 },
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },
                          { "type": "variable_if", "name": "y_pressed",  "value": 1 }, 
                          { "type": "variable_if", "name": "vi_on_off",       "value": 1 } ] }, 
        { "description": "Y Pressed;; Caps lock → Left Shift",
          "description": "Caution!: Same settings exist in 40%.",
          "type": "basic",
          "from": { "key_code": "caps_lock" },
          "to_if_held_down": [ { "set_variable": { "name": "y-shift_pressed", "value": 1 } },
                               { "set_notification_message": { "id": "y-shift_pressed", "text": "y" } },
                               { "key_code": "left_shift" } ],
          "to_delayed_action": { 
          "to_if_invoked":  [ { "set_variable": { "name": "y-shift_pressed", "value": 0 } },              
                              { "set_notification_message": { "id": "y-shift_pressed", "text": "" } } ],
          "to_if_canceled": [ { "set_variable": { "name": "y-shift_pressed", "value": 0 } },              
                              { "set_notification_message": { "id": "y-shift_pressed", "text": "" } } ] }, 
          "to_after_key_up": [ { "set_variable": { "name": "y-shift_pressed", "value": 0 } },              
                               { "set_notification_message": { "id": "y-shift_pressed", "text": "" } } ], 
          "parameters": { "basic.to_if_held_down_threshold_milliseconds": 1,
                          "basic.to_delayed_action_delay_milliseconds": 1000000000 },
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 1 }, 
                          { "type": "variable_if", "name": "y_pressed",  "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",       "value": 1 } ] }, 
        { "description": "Y Pressed;; Right Shift → Right Shift",
          "description": "Caution!: Same settings exist in 40%.",
          "type": "basic",
          "from": { "key_code": "right_shift" },
          "to_if_held_down": [ { "set_variable": { "name": "y-shift_pressed", "value": 1 } },
                               { "set_notification_message": { "id": "y-shift_pressed", "text": "y" } },
                               { "key_code": "right_shift" } ],
          "to_delayed_action": { 
          "to_if_invoked":  [ { "set_variable": { "name": "y-shift_pressed", "value": 0 } },              
                              { "set_notification_message": { "id": "y-shift_pressed", "text": "" } } ],
          "to_if_canceled": [ { "set_variable": { "name": "y-shift_pressed", "value": 0 } },              
                              { "set_notification_message": { "id": "y-shift_pressed", "text": "" } } ] }, 
          "to_after_key_up": [ { "set_variable": { "name": "y-shift_pressed", "value": 0 } },              
                               { "set_notification_message": { "id": "y-shift_pressed", "text": "" } } ], 
          "parameters": { "basic.to_if_held_down_threshold_milliseconds": 1,
                          "basic.to_delayed_action_delay_milliseconds": 1000000000 },
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 1 }, 
                          { "type": "variable_if", "name": "y_pressed",  "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",       "value": 1 } ] }, 


        { "description": "---------------------------------------------------",
          "description": " Normal c mode:  cc,cw,ce,cb,c0,c^,c$,cgg,cG,c{,c} ",
          "description": "---------------------------------------------------",
        
          "description": "cc",
          "type": "basic",
          "from": { "key_code": "c" },
          "to": [ { "key_code": "right_arrow", "modifiers": [ "command","shift" ] },
                  { "key_code": "left_arrow",  "modifiers": [ "command","shift" ] }, 
                  { "key_code": "x", "modifiers": [ "command" ] },
                  { "set_variable": { "name": "cp_type", "value": 1 } },
                  { "set_variable": { "name": "vi_mode", "value": 0 } },
                  { "set_notification_message": { "id": "vi_mode", "text": "-- INSERT --" } } ], 
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 1 }, 
                          { "type": "variable_if", "name": "c_pressed",  "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "description": "cw",
          "type": "basic",
          "from": { "key_code": "w" },
          "to": [ { "key_code": "right_arrow", "modifiers": [ "option","shift" ] }, 
                  { "key_code": "x", "modifiers": [ "command" ] }, 
                  { "set_variable": { "name": "cp_type", "value": 0 } },
                  { "set_variable": { "name": "vi_mode", "value": 0 } },
                  { "set_notification_message": { "id": "vi_mode", "text": "-- INSERT --" } } ], 
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 1 }, 
                          { "type": "variable_if", "name": "c_pressed",  "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "description": "ce",
          "type": "basic",
          "from": { "key_code": "e" },
          "to": [ { "key_code": "right_arrow", "modifiers": [ "option","shift" ] }, 
                  { "key_code": "x", "modifiers": [ "command" ] }, 
                  { "set_variable": { "name": "cp_type", "value": 0 } },
                  { "set_variable": { "name": "vi_mode", "value": 0 } },
                  { "set_notification_message": { "id": "vi_mode", "text": "-- INSERT --" } } ], 
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 1 }, 
                          { "type": "variable_if", "name": "c_pressed",  "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "description": "cb",
          "type": "basic",
          "from": { "key_code": "b" },
          "to": [ { "key_code": "left_arrow", "modifiers": [ "option","shift" ] }, 
                  { "key_code": "x", "modifiers": [ "command" ] }, 
                  { "set_variable": { "name": "cp_type", "value": 0 } },
                  { "set_variable": { "name": "vi_mode", "value": 0 } },
                  { "set_notification_message": { "id": "vi_mode", "text": "-- INSERT --" } } ], 
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 1 }, 
                          { "type": "variable_if", "name": "c_pressed",  "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "description": "c0",
          "type": "basic",
          "from": { "key_code": "0" },
          "to": [ { "key_code": "left_arrow", "modifiers": [ "command","shift" ] }, 
                  { "key_code": "x", "modifiers": [ "command" ] }, 
                  { "set_variable": { "name": "cp_type", "value": 0 } },
                  { "set_variable": { "name": "vi_mode", "value": 0 } },
                  { "set_notification_message": { "id": "vi_mode", "text": "-- INSERT --" } } ], 
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 1 }, 
                          { "type": "variable_if", "name": "c_pressed",  "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "description": "c0",
          "type": "basic",
          "from": { "key_code": "semicolon" },
          "to": [ { "key_code": "left_arrow", "modifiers": [ "command","shift" ] }, 
                  { "key_code": "x", "modifiers": [ "command" ] }, 
                  { "set_variable": { "name": "cp_type", "value": 0 } },
                  { "set_variable": { "name": "vi_mode", "value": 0 } },
                  { "set_notification_message": { "id": "vi_mode", "text": "-- INSERT --" } } ], 
          "conditions": [ { "type": "variable_if", "name": "unset_mode",     "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",        "value": 1 }, 
                          { "type": "variable_if", "name": "c-kana_pressed", "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode",     "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",      "value": 1 }, 
                          { "type": "variable_if", "name": "tab_mode",       "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "description": "c^",
          "type": "basic",
          "from": { "key_code": "6", "modifiers": { "mandatory": [ "shift" ] } },
          "to": [ { "key_code": "left_arrow", "modifiers": [ "command","shift" ] }, 
                  { "key_code": "x", "modifiers": [ "command" ] }, 
                  { "set_variable": { "name": "cp_type", "value": 0 } },
                  { "set_variable": { "name": "vi_mode", "value": 0 } },
                  { "set_notification_message": { "id": "vi_mode", "text": "-- INSERT --" } } ], 
          "conditions": [ { "type": "variable_if", "name": "unset_mode",      "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",         "value": 1 }, 
                          { "type": "variable_if", "name": "c-shift_pressed", "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode",      "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",       "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",        "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "description": "c^",
          "type": "basic",
          "from": { "key_code": "h" },
          "to": [ { "key_code": "left_arrow", "modifiers": [ "command","shift" ] }, 
                  { "key_code": "x", "modifiers": [ "command" ] }, 
                  { "set_variable": { "name": "cp_type", "value": 0 } },
                  { "set_variable": { "name": "vi_mode", "value": 0 } },
                  { "set_notification_message": { "id": "vi_mode", "text": "-- INSERT --" } } ], 
          "conditions": [ { "type": "variable_if", "name": "unset_mode",     "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",        "value": 1 }, 
                          { "type": "variable_if", "name": "c-kana_pressed", "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode",     "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",      "value": 1 }, 
                          { "type": "variable_if", "name": "tab_mode",       "value": 0 },
                          { "type": "variable_unless", 
                            "name": "multitouch_extension_finger_count_total", "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "description": "c$",
          "type": "basic",
          "from": { "key_code": "4", "modifiers": { "mandatory": [ "shift" ] } },
          "to": [ { "key_code": "right_arrow", "modifiers": [ "command","shift" ] }, 
                  { "key_code": "x", "modifiers": [ "command" ] }, 
                  { "set_variable": { "name": "cp_type", "value": 0 } },
                  { "set_variable": { "name": "vi_mode", "value": 0 } },
                  { "set_notification_message": { "id": "vi_mode", "text": "-- INSERT --" } } ], 
          "conditions": [ { "type": "variable_if", "name": "unset_mode",       "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",          "value": 1 }, 
                          { "type": "variable_if", "name": "c-shift_pressed",  "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode",       "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",        "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",         "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "description": "c$",
          "type": "basic",
          "from": { "key_code": "f" },
          "to": [ { "key_code": "right_arrow", "modifiers": [ "command","shift" ] }, 
                  { "key_code": "x", "modifiers": [ "command" ] }, 
                  { "set_variable": { "name": "cp_type", "value": 0 } },
                  { "set_variable": { "name": "vi_mode", "value": 0 } },
                  { "set_notification_message": { "id": "vi_mode", "text": "-- INSERT --" } } ], 
          "conditions": [ { "type": "variable_if", "name": "unset_mode",     "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",        "value": 1 }, 
                          { "type": "variable_if", "name": "c-kana_pressed", "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode",     "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",      "value": 1 }, 
                          { "type": "variable_if", "name": "tab_mode",       "value": 0 },
                          { "type": "variable_unless", 
                            "name": "multitouch_extension_finger_count_total", "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "description": "cgg",
          "type": "basic",
          "from": { "key_code": "g" },
          "to": [ { "key_code": "right_arrow", "modifiers": [ "command" ] }, 
                  { "key_code": "up_arrow", "modifiers": [ "command","shift" ] }, 
                  { "key_code": "x", "modifiers": [ "command" ] }, 
                  { "set_variable": { "name": "cp_type", "value": 1 } },
                  { "set_variable": { "name": "vi_mode", "value": 0 } },
                  { "set_notification_message": { "id": "vi_mode", "text": "-- INSERT --" } } ], 
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 1 }, 
                          { "type": "variable_if", "name": "cg_pressed", "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", 
                            "name": "multitouch_extension_finger_count_total", "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "description": "cgg",
          "type": "basic",
          "from": { "key_code": "g" },
          "to": [ { "set_variable": { "name": "cg_pressed", "value": 1 } },
                  { "set_notification_message": { "id": "cg_pressed", "text": "cg" } } ],
          "to_delayed_action": { 
          "to_if_invoked":  [ { "set_variable": { "name": "cg_pressed", "value": 0 } },              
                              { "set_notification_message": { "id": "cg_pressed", "text": "" } } ],
          "to_if_canceled": [ { "set_variable": { "name": "cg_pressed", "value": 0 } },              
                              { "set_notification_message": { "id": "cg_pressed", "text": "" } } ] }, 
          "parameters": { "basic.to_delayed_action_delay_milliseconds": 1000000000},
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 1 }, 
                          { "type": "variable_if", "name": "c_pressed",  "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", 
                            "name": "multitouch_extension_finger_count_total", "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "description": "cG",
          "type": "basic",
          "from": { "key_code": "g", "modifiers": { "mandatory": [ "shift" ] } },
          "to": [ { "key_code": "left_arrow", "modifiers": [ "command" ] }, 
                  { "key_code": "down_arrow", "modifiers": [ "command","shift" ] }, 
                  { "key_code": "x", "modifiers": [ "command" ] }, 
                  { "set_variable": { "name": "cp_type", "value": 1 } },
                  { "set_variable": { "name": "vi_mode", "value": 0 } },
                  { "set_notification_message": { "id": "vi_mode", "text": "-- INSERT --" } } ], 
          "conditions": [ { "type": "variable_if", "name": "unset_mode",      "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",         "value": 1 }, 
                          { "type": "variable_if", "name": "c-shift_pressed", "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode",      "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",       "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",        "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "description": "cG",
          "type": "basic",
          "from": { "key_code": "g" },
          "to": [ { "key_code": "left_arrow", "modifiers": [ "command" ] }, 
                  { "key_code": "down_arrow", "modifiers": [ "command","shift" ] }, 
                  { "key_code": "x", "modifiers": [ "command" ] }, 
                  { "set_variable": { "name": "cp_type", "value": 1 } },
                  { "set_variable": { "name": "vi_mode", "value": 0 } },
                  { "set_notification_message": { "id": "vi_mode", "text": "-- INSERT --" } } ], 
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 1 }, 
                          { "type": "variable_if", "name": "c_pressed",  "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_unless", 
                            "name": "multitouch_extension_finger_count_total", "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "description": "c{",
          "type": "basic",
          "from": { "key_code": "open_bracket", "modifiers": { "mandatory": [ "shift" ] } },
          "to": [ { "key_code": "a", "modifiers": [ "control","shift" ] }, 
                  { "key_code": "x", "modifiers": [ "command" ] }, 
                  { "set_variable": { "name": "cp_type", "value": 0 } },
                  { "set_variable": { "name": "vi_mode", "value": 0 } },
                  { "set_notification_message": { "id": "vi_mode", "text": "-- INSERT --" } } ], 
          "conditions": [ { "type": "variable_if", "name": "unset_mode",       "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",          "value": 1 }, 
                          { "type": "variable_if", "name": "c-shift_pressed",  "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode",       "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",        "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",         "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "description": "c{",
          "type": "basic",
          "from": { "key_code": "o" },
          "to": [ { "key_code": "a", "modifiers": [ "control","shift" ] }, 
                  { "key_code": "x", "modifiers": [ "command" ] }, 
                  { "set_variable": { "name": "cp_type", "value": 0 } },
                  { "set_variable": { "name": "vi_mode", "value": 0 } },
                  { "set_notification_message": { "id": "vi_mode", "text": "-- INSERT --" } } ], 
          "conditions": [ { "type": "variable_if", "name": "unset_mode",     "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",        "value": 1 }, 
                          { "type": "variable_if", "name": "c-kana_pressed", "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode",     "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",      "value": 1 }, 
                          { "type": "variable_if", "name": "tab_mode",       "value": 0 },
                          { "type": "variable_unless", 
                            "name": "multitouch_extension_finger_count_total", "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "description": "c}",
          "type": "basic",
          "from": { "key_code": "close_bracket", "modifiers": { "mandatory": [ "shift" ] } },
          "to": [ { "key_code": "e", "modifiers": [ "control","shift" ] }, 
                  { "key_code": "x", "modifiers": [ "command" ] }, 
                  { "set_variable": { "name": "cp_type", "value": 0 } },
                  { "set_variable": { "name": "vi_mode", "value": 0 } },
                  { "set_notification_message": { "id": "vi_mode", "text": "-- INSERT --" } } ], 
          "conditions": [ { "type": "variable_if", "name": "unset_mode",       "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",          "value": 1 }, 
                          { "type": "variable_if", "name": "c-shift_pressed",  "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode",       "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",        "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",         "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "description": "c}",
          "type": "basic",
          "from": { "key_code": "p" },
          "to": [ { "key_code": "e", "modifiers": [ "control","shift" ] }, 
                  { "key_code": "x", "modifiers": [ "command" ] }, 
                  { "set_variable": { "name": "cp_type", "value": 0 } },
                  { "set_variable": { "name": "vi_mode", "value": 0 } },
                  { "set_notification_message": { "id": "vi_mode", "text": "-- INSERT --" } } ], 
          "conditions": [ { "type": "variable_if", "name": "unset_mode",     "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",        "value": 1 }, 
                          { "type": "variable_if", "name": "c-kana_pressed", "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode",     "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",      "value": 1 }, 
                          { "type": "variable_if", "name": "tab_mode",       "value": 0 },
                          { "type": "variable_unless", 
                            "name": "multitouch_extension_finger_count_total", "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "description": "C Pressed;; Kana → Alone: Kana, Modifier: Layer 2",
          "description": "Caution!: Same settings exist in 40%.",
          "type": "basic",
          "from": { "key_code": "japanese_kana", "modifiers": { "optional": [ "any" ] } },
          "to_if_held_down": [ { "set_variable": { "name": "kana_mode",      "value": 1 } },
                               { "set_variable": { "name": "c-kana_pressed", "value": 1 } },
                               { "set_notification_message": { "id": "c-kana_pressed", "text": "c" } } ],
          "to_delayed_action": { 
          "to_if_invoked":  [ { "set_variable": { "name": "c-kana_pressed", "value": 0 } },              
                              { "set_notification_message": { "id": "c-kana_pressed", "text": "" } } ],
          "to_if_canceled": [ { "set_variable": { "name": "c-kana_pressed", "value": 0 } },              
                              { "set_notification_message": { "id": "c-kana_pressed", "text": "" } } ] }, 
          "to_if_alone": [ { "key_code": "japanese_kana" } ],
          "to_after_key_up": [ { "set_variable": { "name": "kana_mode","value": 0 } },
                               { "set_variable": { "name": "c-kana_pressed", "value": 0 } },              
                               { "set_notification_message": { "id": "c-kana_pressed", "text": "" } } ], 
          "parameters": { "basic.to_if_held_down_threshold_milliseconds": 1,
                          "basic.to_delayed_action_delay_milliseconds": 1000000000,
                          "basic.to_if_alone_timeout_milliseconds": 150 },
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },
                          { "type": "variable_if", "name": "c_pressed",  "value": 1 }, 
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "description": "C Pressed;; Caps lock → Left Shift",
          "description": "Caution!: Same settings exist in 40%.",
          "type": "basic",
          "from": { "key_code": "caps_lock" },
          "to_if_held_down": [ { "set_variable": { "name": "c-shift_pressed", "value": 1 } },
                               { "set_notification_message": { "id": "c-shift_pressed", "text": "c" } },
                               { "key_code": "left_shift" } ],
          "to_delayed_action": { 
          "to_if_invoked":  [ { "set_variable": { "name": "c-shift_pressed", "value": 0 } },              
                              { "set_notification_message": { "id": "c-shift_pressed", "text": "" } } ],
          "to_if_canceled": [ { "set_variable": { "name": "c-shift_pressed", "value": 0 } },              
                              { "set_notification_message": { "id": "c-shift_pressed", "text": "" } } ] }, 
          "to_after_key_up": [ { "set_variable": { "name": "c-shift_pressed", "value": 0 } },              
                               { "set_notification_message": { "id": "c-shift_pressed", "text": "" } } ], 
          "parameters": { "basic.to_if_held_down_threshold_milliseconds": 1,
                          "basic.to_delayed_action_delay_milliseconds": 1000000000 },
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 1 }, 
                          { "type": "variable_if", "name": "c_pressed",  "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "description": "C Pressed;; Right Shift → Right Shift",
          "description": "Caution!: Same settings exist in 40%.",
          "type": "basic",
          "from": { "key_code": "right_shift" },
          "to_if_held_down": [ { "set_variable": { "name": "c-shift_pressed", "value": 1 } },
                               { "set_notification_message": { "id": "c-shift_pressed", "text": "c" } },
                               { "key_code": "right_shift" } ],
          "to_delayed_action": { 
          "to_if_invoked":  [ { "set_variable": { "name": "c-shift_pressed", "value": 0 } },              
                              { "set_notification_message": { "id": "c-shift_pressed", "text": "" } } ],
          "to_if_canceled": [ { "set_variable": { "name": "c-shift_pressed", "value": 0 } },              
                              { "set_notification_message": { "id": "c-shift_pressed", "text": "" } } ] }, 
          "to_after_key_up": [ { "set_variable": { "name": "c-shift_pressed", "value": 0 } },              
                               { "set_notification_message": { "id": "c-shift_pressed", "text": "" } } ], 
          "parameters": { "basic.to_if_held_down_threshold_milliseconds": 1,
                          "basic.to_delayed_action_delay_milliseconds": 1000000000 },
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 1 }, 
                          { "type": "variable_if", "name": "c_pressed",  "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 


        { "description": "--------------------------",
          "description": " Normal g mode:  gg,gt,gT ",
          "description": "--------------------------",
        
          "type": "basic",
          "from": { "key_code": "t" },
          "to": [ { "key_code": "return_or_enter", "modifiers": [ "command" ] },
                  { "key_code": "down_arrow" },
                  { "key_code": "return_or_enter", "modifiers": [ "command" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 1 }, 
                          { "type": "variable_if", "name": "g_pressed",  "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", 
                            "name": "multitouch_extension_finger_count_total", "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "type": "basic",
          "from": { "key_code": "t", "modifiers": { "mandatory": [ "shift" ] } },
          "to": [ { "key_code": "return_or_enter", "modifiers": [ "command" ] },
                  { "key_code": "up_arrow" },
                  { "key_code": "return_or_enter", "modifiers": [ "command" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 1 }, 
                          { "type": "variable_if", "name": "g_pressed",  "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "type": "basic",
          "from": { "key_code": "t" },
          "to": [ { "key_code": "return_or_enter", "modifiers": [ "command" ] },
                  { "key_code": "up_arrow" },
                  { "key_code": "return_or_enter", "modifiers": [ "command" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 1 }, 
                          { "type": "variable_if", "name": "g_pressed",  "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_unless", 
                            "name": "multitouch_extension_finger_count_total", "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "type": "basic",
          "from": { "key_code": "g" },
          "to": [ { "key_code": "up_arrow", "modifiers": [ "command" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 1 }, 
                          { "type": "variable_if", "name": "g_pressed",  "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "description": "G Pressed;; Kana → Alone: Kana, Modifier: Layer 2",
          "description": "Caution!: Same settings exist in 40%.",
          "type": "basic",
          "from": { "key_code": "japanese_kana", "modifiers": { "optional": [ "any" ] } },
          "to_if_held_down": [ { "set_variable": { "name": "kana_mode",      "value": 1 } },
                               { "set_variable": { "name": "g-kana_pressed", "value": 1 } },
                               { "set_notification_message": { "id": "g-kana_pressed", "text": "g" } } ],
          "to_delayed_action": { 
          "to_if_invoked":  [ { "set_variable": { "name": "g-kana_pressed", "value": 0 } },              
                              { "set_notification_message": { "id": "g-kana_pressed", "text": "" } } ],
          "to_if_canceled": [ { "set_variable": { "name": "g-kana_pressed", "value": 0 } },              
                              { "set_notification_message": { "id": "g-kana_pressed", "text": "" } } ] }, 
          "to_if_alone": [ { "key_code": "japanese_kana" } ],
          "to_after_key_up": [ { "set_variable": { "name": "kana_mode","value": 0 } },
                               { "set_variable": { "name": "g-kana_pressed", "value": 0 } },              
                               { "set_notification_message": { "id": "g-kana_pressed", "text": "" } } ], 
          "parameters": { "basic.to_if_held_down_threshold_milliseconds": 1,
                          "basic.to_delayed_action_delay_milliseconds": 1000000000,
                          "basic.to_if_alone_timeout_milliseconds": 150 },
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },
                          { "type": "variable_if", "name": "g_pressed",  "value": 1 }, 
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "description": "G Pressed;; Caps lock → Left Shift",
          "description": "Caution!: Same settings exist in 40%.",
          "type": "basic",
          "from": { "key_code": "caps_lock" },
          "to_if_held_down": [ { "set_variable": { "name": "g-shift_pressed", "value": 1 } },
                               { "set_notification_message": { "id": "g-shift_pressed", "text": "g" } },
                               { "key_code": "left_shift" } ],
          "to_delayed_action": { 
          "to_if_invoked":  [ { "set_variable": { "name": "g-shift_pressed", "value": 0 } },              
                              { "set_notification_message": { "id": "g-shift_pressed", "text": "" } } ],
          "to_if_canceled": [ { "set_variable": { "name": "g-shift_pressed", "value": 0 } },              
                              { "set_notification_message": { "id": "g-shift_pressed", "text": "" } } ] }, 
          "to_after_key_up": [ { "set_variable": { "name": "g-shift_pressed", "value": 0 } },              
                               { "set_notification_message": { "id": "g-shift_pressed", "text": "" } } ], 
          "parameters": { "basic.to_if_held_down_threshold_milliseconds": 1,
                          "basic.to_delayed_action_delay_milliseconds": 1000000000 },
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 1 }, 
                          { "type": "variable_if", "name": "g_pressed",  "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "description": "G Pressed;; Right Shift → Right Shift",
          "description": "Caution!: Same settings exist in 40%.",
          "type": "basic",
          "from": { "key_code": "right_shift" },
          "to_if_held_down": [ { "set_variable": { "name": "g-shift_pressed", "value": 1 } },
                               { "set_notification_message": { "id": "g-shift_pressed", "text": "g" } },
                               { "key_code": "right_shift" } ],
          "to_delayed_action": { 
          "to_if_invoked":  [ { "set_variable": { "name": "g-shift_pressed", "value": 0 } },              
                              { "set_notification_message": { "id": "g-shift_pressed", "text": "" } } ],
          "to_if_canceled": [ { "set_variable": { "name": "g-shift_pressed", "value": 0 } },              
                              { "set_notification_message": { "id": "g-shift_pressed", "text": "" } } ] }, 
          "to_after_key_up": [ { "set_variable": { "name": "g-shift_pressed", "value": 0 } },              
                               { "set_notification_message": { "id": "g-shift_pressed", "text": "" } } ], 
          "parameters": { "basic.to_if_held_down_threshold_milliseconds": 1,
                          "basic.to_delayed_action_delay_milliseconds": 1000000000 },
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 1 }, 
                          { "type": "variable_if", "name": "g_pressed",  "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 


        { "description": "--------------------",
          "description": " Normal z mode:  zz ",
          "description": "--------------------",
        
          "type": "basic",
          "from": { "key_code": "z" },
          "to": [ { "key_code": "l", "modifiers": [ "control" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 1 }, 
                          { "type": "variable_if", "name": "z_pressed",  "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 


        { "description": "-------------------------------------------------------------------------",
          "description": " Vi mode Normal (: Pressed)                                           ",
          "description": "-------------------------------------------------------------------------",
        
          "description": "Normal (:): q",
          "type": "basic",
          "from": { "key_code": "q" },
          "to": [ { "key_code": "q", "modifiers": [ "command" ] },
                  { "set_variable": { "name": "vi_mode", "value": 0 } }, 
                  { "set_notification_message": { "id": "vi_mode", "text": "" } } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 1 }, 
                          { "type": "variable_if", "name": ":_pressed",  "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", 
                            "name": "multitouch_extension_finger_count_total", "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "type": "basic",
          "from": { "key_code": "w" },
          "to": [ { "key_code": "return_or_enter", "modifiers": [ "command" ] },
                  { "key_code": "down_arrow" },
                  { "key_code": "return_or_enter", "modifiers": [ "command" ] },
                  { "key_code": "return_or_enter", "modifiers": [ "command" ] },
                  { "key_code": "up_arrow" },
                  { "key_code": "return_or_enter", "modifiers": [ "command" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 1 }, 
                          { "type": "variable_if", "name": ":_pressed",  "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", 
                            "name": "multitouch_extension_finger_count_total", "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 

        
        { "description": "-------------------------------------------------------------------------",
          "description": " Vi mode Normal (Non-modifier)                                           ",
          "description": "-------------------------------------------------------------------------",
        
          "description": "Normal: Esc",
          "type": "basic",
          "from": { "key_code": "escape" },
          "to": [ { "set_variable": { "name": "vi_mode", "value": 1 } },
                  { "set_notification_message": { "id": "vi_mode", "text": "-- NORMAL --" } } ],
          "conditions": [ { "type": "variable_if",     "name": "unset_mode", "value": 0 },  
                          { "type": "variable_unless", "name": "vi_mode",    "value": 1 }, 
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "description": "Normal: 0",
          "type": "basic",
          "from": { "key_code": "0" },
          "to": [ { "key_code": "left_arrow", "modifiers": [ "command" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "description": "Normal: w",
          "type": "basic",
          "from": { "key_code": "w" },
          "to": [ { "key_code": "right_arrow", "modifiers": [ "option" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "description": "Normal: e",
          "type": "basic",
          "from": { "key_code": "e" },
          "to": [ { "key_code": "right_arrow", "modifiers": [ "option" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "description": "Normal: y",
          "type": "basic",
          "from": { "key_code": "y" },
          "to": [ { "set_variable": { "name": "y_pressed", "value": 1 } },
                  { "set_notification_message": { "id": "y_pressed", "text": "y" } } ],
          "to_delayed_action": { 
          "to_if_invoked":  [ { "set_variable": { "name": "y_pressed", "value": 0 } },              
                              { "set_notification_message": { "id": "y_pressed", "text": "" } } ],
          "to_if_canceled": [ { "set_variable": { "name": "y_pressed", "value": 0 } },              
                              { "set_notification_message": { "id": "y_pressed", "text": "" } } ] }, 
          "parameters": { "basic.to_delayed_action_delay_milliseconds": 1000000000},
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "description": "Normal: u",
          "type": "basic",
          "from": { "key_code": "u" },
          "to": [ { "key_code": "z", "modifiers": [ "command" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "description": "Normal: i",
          "type": "basic",
          "from": { "key_code": "i" },
          "to": [ { "set_variable": { "name": "vi_mode", "value": 0 } },
                  { "set_notification_message": { "id": "vi_mode", "text": "-- INSERT --" } } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", 
                            "name": "multitouch_extension_finger_count_total", "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "description": "Normal: o",
          "type": "basic",
          "from": { "key_code": "o" },
          "to": [ { "key_code": "right_arrow", "modifiers": [ "command" ] },
                  { "key_code": "return_or_enter" },
                  { "set_variable": { "name": "vi_mode", "value": 0 } },
                  { "set_notification_message": { "id": "vi_mode", "text": "-- INSERT --" } } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", 
                            "name": "multitouch_extension_finger_count_total", "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 

        { "description": "Normal: p",
          "description": "If cp_type is 1",
          "type": "basic",
          "from": { "key_code": "p" },
          "to": [ { "key_code": "right_arrow", "modifiers": [ "command" ] }, 
                  { "key_code": "return_or_enter" },
                  { "key_code": "v", "modifiers": [ "command" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 1 }, 
                          { "type": "variable_if", "name": "cp_type",    "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", 
                            "name": "multitouch_extension_finger_count_total", "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "description": "Normal: p",
          "description": "otherwise",
          "type": "basic",
          "from": { "key_code": "p" },
          "to": [ { "key_code": "v", "modifiers": [ "command" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", 
                            "name": "multitouch_extension_finger_count_total", "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 

        { "description": "Normal: a",
          "type": "basic",
          "from": { "key_code": "a" },
          "to": [ { "key_code": "right_arrow" }, 
                  { "set_variable": { "name": "vi_mode", "value": 0 } },
                  { "set_notification_message": { "id": "vi_mode", "text": "-- INSERT --" } } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", 
                            "name": "multitouch_extension_finger_count_total", "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "description": "Normal: d",
          "type": "basic",
          "from": { "key_code": "d" },
          "to": [ { "set_variable": { "name": "d_pressed", "value": 1 } },
                  { "set_notification_message": { "id": "d_pressed", "text": "d" } } ],
          "to_delayed_action": { 
          "to_if_invoked":  [ { "set_variable": { "name": "d_pressed", "value": 0 } },              
                              { "set_notification_message": { "id": "d_pressed", "text": "" } } ],
          "to_if_canceled": [ { "set_variable": { "name": "d_pressed", "value": 0 } },              
                              { "set_notification_message": { "id": "d_pressed", "text": "" } } ] }, 
          "parameters": { "basic.to_delayed_action_delay_milliseconds": 1000000000},
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "description": "Normal: s",
          "type": "basic",
          "from": { "key_code": "s" },
          "to": [ { "key_code": "delete_forward" }, 
                  { "set_variable": { "name": "vi_mode", "value": 0 } },
                  { "set_notification_message": { "id": "vi_mode", "text": "-- INSERT --" } } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", 
                            "name": "multitouch_extension_finger_count_total", "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "description": "Normal: g",
          "type": "basic",
          "from": { "key_code": "g" },
          "to": [ { "set_variable": { "name": "g_pressed", "value": 1 } },
                  { "set_notification_message": { "id": "g_pressed", "text": "g" } } ],
          "to_delayed_action": { 
          "to_if_invoked":  [ { "set_variable": { "name": "g_pressed", "value": 0 } },              
                              { "set_notification_message": { "id": "g_pressed", "text": "" } } ],
          "to_if_canceled": [ { "set_variable": { "name": "g_pressed", "value": 0 } },              
                              { "set_notification_message": { "id": "g_pressed", "text": "" } } ] }, 
          "parameters": { "basic.to_delayed_action_delay_milliseconds": 1000000000},
          "conditions": [ { "type": "variable_if", "name": "unset_mode",    "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",       "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode",    "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",     "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",      "value": 0 },
                          { "type": "variable_if", 
                            "name": "multitouch_extension_finger_count_total", "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "description": "Normal: h",
          "type": "basic",
          "from": { "key_code": "h" },
          "to": [ { "key_code": "left_arrow" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "description": "Normal: j",
          "type": "basic",
          "from": { "key_code": "j" },
          "to": [ { "key_code": "down_arrow" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "description": "Normal: k",
          "type": "basic",
          "from": { "key_code": "k" },
          "to": [ { "key_code": "up_arrow" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "description": "Normal: l",
          "type": "basic",
          "from": { "key_code": "l" },
          "to": [ { "key_code": "right_arrow" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "description": "Normal: z",
          "type": "basic",
          "from": { "key_code": "z" },
          "to": [ { "set_variable": { "name": "z_pressed", "value": 1 } },
                  { "set_notification_message": { "id": "z_pressed", "text": "z" } } ],
          "to_delayed_action": { 
          "to_if_invoked":  [ { "set_variable": { "name": "z_pressed", "value": 0 } },              
                              { "set_notification_message": { "id": "z_pressed", "text": "" } } ],
          "to_if_canceled": [ { "set_variable": { "name": "z_pressed", "value": 0 } },              
                              { "set_notification_message": { "id": "z_pressed", "text": "" } } ] }, 
          "parameters": { "basic.to_delayed_action_delay_milliseconds": 1000000000},
          "conditions": [ { "type": "variable_if", "name": "unset_mode",    "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",       "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode",    "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",     "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",      "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "description": "Normal: x",
          "type": "basic",
          "from": { "key_code": "x" },
          "to": [ { "key_code": "delete_forward" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", 
                            "name": "multitouch_extension_finger_count_total", "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "description": "Normal: c",
          "type": "basic",
          "from": { "key_code": "c" },
          "to": [ { "set_variable": { "name": "c_pressed", "value": 1 } },
                  { "set_notification_message": { "id": "c_pressed", "text": "c" } } ],
          "to_delayed_action": { 
          "to_if_invoked":  [ { "set_variable": { "name": "c_pressed", "value": 0 } },              
                              { "set_notification_message": { "id": "c_pressed", "text": "" } } ],
          "to_if_canceled": [ { "set_variable": { "name": "c_pressed", "value": 0 } },              
                              { "set_notification_message": { "id": "c_pressed", "text": "" } } ] }, 
          "parameters": { "basic.to_delayed_action_delay_milliseconds": 1000000000},
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "description": "Normal: v",
          "type": "basic",
          "from": { "key_code": "v" },
          "to": [ { "set_variable": { "name": "vi_mode", "value": 2 } },
                  { "set_notification_message": { "id": "vi_mode", "text": "-- VISUAL --" } } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", 
                            "name": "multitouch_extension_finger_count_total", "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "description": "Normal: b",
          "type": "basic",
          "from": { "key_code": "b" },
          "to": [ { "key_code": "left_arrow", "modifiers": [ "option" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "description": "Normal: n",
          "type": "basic",
          "from": { "key_code": "n" },
          "to": [ { "key_code": "g", "modifiers": [ "command" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", 
                            "name": "multitouch_extension_finger_count_total", "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "description": "Normal: /",
          "type": "basic",
          "from": { "key_code": "slash" },
          "to": [ { "key_code": "f", "modifiers": [ "command" ] },
                  { "set_variable": { "name": "vi_mode", "value": 4 } },
                  { "set_notification_message": { "id": "vi_mode", "text": "-- COMMAND --" } } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 

        
        { "description": "-------------------------------------------------------------------------",
          "description": " Vi mode Normal (Shift)                                                  ",
          "description": "-------------------------------------------------------------------------",
        
          "description": "Normal: ^",
          "type": "basic",
          "from": { "key_code": "4", "modifiers": { "mandatory": [ "shift" ] } },
          "to": [ { "key_code": "right_arrow", "modifiers": [ "command" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "description": "Normal: $",
          "type": "basic",
          "from": { "key_code": "6", "modifiers": { "mandatory": [ "shift" ] } },
          "to": [ { "key_code": "left_arrow", "modifiers": [ "command" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "description": "Normal: I",
          "type": "basic",
          "from": { "key_code": "i", "modifiers": { "mandatory": [ "shift" ] } },
          "to": [ { "key_code": "left_arrow", "modifiers": [ "command" ] },
                  { "set_variable": { "name": "vi_mode", "value": 0 } },
                  { "set_notification_message": { "id": "vi_mode", "text": "-- INSERT --" } } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "description": "Normal: O",
          "type": "basic",
          "from": { "key_code": "o", "modifiers": { "mandatory": [ "shift" ] } },
          "to": [ { "key_code": "left_arrow", "modifiers": [ "command" ] },
                  { "key_code": "return_or_enter" },
                  { "key_code": "up_arrow" },
                  { "set_variable": { "name": "vi_mode", "value": 0 } },
                  { "set_notification_message": { "id": "vi_mode", "text": "-- INSERT --" } } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 

        { "description": "Normal: P",
          "description": "If cp_type is 1",
          "type": "basic",
          "from": { "key_code": "p", "modifiers": { "mandatory": [ "shift" ] } },
          "to": [ { "key_code": "left_arrow", "modifiers": [ "command" ] }, 
                  { "key_code": "return_or_enter" },
                  { "key_code": "up_arrow" }, 
                  { "key_code": "v", "modifiers": [ "command" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 1 }, 
                          { "type": "variable_if", "name": "cp_type",    "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "description": "Normal: P",
          "description": "Otherwise",
          "type": "basic",
          "from": { "key_code": "p", "modifiers": { "mandatory": [ "shift" ] } },
          "to": [ { "key_code": "left_arrow" },
                  { "key_code": "v", "modifiers": [ "command" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 

        { "description": "Normal: {",
          "type": "basic",
          "from": { "key_code": "open_bracket", "modifiers": { "mandatory": [ "shift" ] } },
          "to": [ { "key_code": "a", "modifiers": [ "control" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "description": "Normal: }",
          "type": "basic",
          "from": { "key_code": "close_bracket", "modifiers": { "mandatory": [ "shift" ] } },
          "to": [ { "key_code": "e", "modifiers": [ "control" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "description": "Normal: A",
          "type": "basic",
          "from": { "key_code": "a", "modifiers": { "mandatory": [ "shift" ] } },
          "to": [ { "key_code": "right_arrow", "modifiers": [ "command" ] },
                  { "set_variable": { "name": "vi_mode", "value": 0 } },
                  { "set_notification_message": { "id": "vi_mode", "text": "-- INSERT --" } } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "description": "Normal: G",
          "type": "basic",
          "from": { "key_code": "g", "modifiers": { "mandatory": [ "shift" ] } },
          "to": [ { "key_code": "down_arrow", "modifiers": [ "command" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "description": "Normal: X",
          "type": "basic",
          "from": { "key_code": "x", "modifiers": { "mandatory": [ "shift" ] } },
          "to": [ { "key_code": "delete_or_backspace" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "description": "Normal: V",
          "type": "basic",
          "from": { "key_code": "v", "modifiers": { "mandatory": [ "shift" ] } },
          "to": [ { "key_code": "a", "modifiers": [ "control","shift" ] },
                  { "key_code": "e", "modifiers": [ "control","shift" ] },
                  { "set_variable": { "name": "vi_mode", "value": 3 } },
                  { "set_notification_message": { "id": "vi_mode", "text": "-- V-LINE --" } } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "description": "Normal: N",
          "type": "basic",
          "from": { "key_code": "n", "modifiers": { "mandatory": [ "shift" ] } },
          "to": [ { "key_code": "g", "modifiers": [ "command","shift" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "description": "Normal: N",
          "type": "basic",
          "from": { "key_code": "n" },
          "to": [ { "key_code": "g", "modifiers": [ "command","shift" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_unless", 
                            "name": "multitouch_extension_finger_count_total", "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 


        
        { "description": "-------------------------------------------------------------------------",
          "description": " Vi mode Normal (Control)                                                ",
          "description": "-------------------------------------------------------------------------",

          "description": "Normal: <C-e>",
          "type": "basic",
          "from": { "key_code": "e", "modifiers": { "mandatory": [ "control" ] } },
          "to": [ { "key_code": "f13", "modifiers": [ "command", "control" ] },
                  { "mouse_key": { "vertical_wheel": 62 } } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "description": "Normal: <C-r>",
          "type": "basic",
          "from": { "key_code": "r", "modifiers": { "mandatory": [ "control" ] } },
          "to": [ { "key_code": "z", "modifiers": [ "command", "shift" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "description": "Normal: <C-y>",
          "type": "basic",
          "from": { "key_code": "y", "modifiers": { "mandatory": [ "control" ] } },
          "to": [ { "key_code": "f13", "modifiers": [ "command", "control" ] },
                  { "mouse_key": { "vertical_wheel": -62 } } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "description": "Normal: <C-u>",
          "type": "basic",
          "from": { "key_code": "u", "modifiers": { "mandatory": [ "control" ] } },
          "to": [ { "key_code": "up_arrow" },{ "key_code": "up_arrow" },{ "key_code": "up_arrow" },
                  { "key_code": "up_arrow" },{ "key_code": "up_arrow" },{ "key_code": "up_arrow" },
                  { "key_code": "up_arrow" },{ "key_code": "up_arrow" },{ "key_code": "up_arrow" },
                  { "key_code": "up_arrow" },{ "key_code": "up_arrow" },{ "key_code": "up_arrow" },
                  { "key_code": "up_arrow" },{ "key_code": "up_arrow" },{ "key_code": "up_arrow" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "description": "Normal: <C-d>",
          "type": "basic",
          "from": { "key_code": "d", "modifiers": { "mandatory": [ "control" ] } },
          "to": [ { "key_code": "down_arrow" },{ "key_code": "down_arrow" },{ "key_code": "down_arrow" },
                  { "key_code": "down_arrow" },{ "key_code": "down_arrow" },{ "key_code": "down_arrow" },
                  { "key_code": "down_arrow" },{ "key_code": "down_arrow" },{ "key_code": "down_arrow" },
                  { "key_code": "down_arrow" },{ "key_code": "down_arrow" },{ "key_code": "down_arrow" },
                  { "key_code": "down_arrow" },{ "key_code": "down_arrow" },{ "key_code": "down_arrow" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "description": "Normal: <C-f>",
          "type": "basic",
          "from": { "key_code": "f", "modifiers": { "mandatory": [ "control" ] } },
          "to": [ { "key_code": "down_arrow" },{ "key_code": "down_arrow" },{ "key_code": "down_arrow" },
                  { "key_code": "down_arrow" },{ "key_code": "down_arrow" },{ "key_code": "down_arrow" },
                  { "key_code": "down_arrow" },{ "key_code": "down_arrow" },{ "key_code": "down_arrow" },
                  { "key_code": "down_arrow" },{ "key_code": "down_arrow" },{ "key_code": "down_arrow" },
                  { "key_code": "down_arrow" },{ "key_code": "down_arrow" },{ "key_code": "down_arrow" },
                  { "key_code": "down_arrow" },{ "key_code": "down_arrow" },{ "key_code": "down_arrow" },
                  { "key_code": "down_arrow" },{ "key_code": "down_arrow" },{ "key_code": "down_arrow" },
                  { "key_code": "down_arrow" },{ "key_code": "down_arrow" },{ "key_code": "down_arrow" },
                  { "key_code": "down_arrow" },{ "key_code": "down_arrow" },{ "key_code": "down_arrow" },
                  { "key_code": "down_arrow" },{ "key_code": "down_arrow" },{ "key_code": "down_arrow" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "description": "Normal: <C-b>",
          "type": "basic",
          "from": { "key_code": "b", "modifiers": { "mandatory": [ "control" ] } },
          "to": [ { "key_code": "up_arrow" },{ "key_code": "up_arrow" },{ "key_code": "up_arrow" },
                  { "key_code": "up_arrow" },{ "key_code": "up_arrow" },{ "key_code": "up_arrow" },
                  { "key_code": "up_arrow" },{ "key_code": "up_arrow" },{ "key_code": "up_arrow" },
                  { "key_code": "up_arrow" },{ "key_code": "up_arrow" },{ "key_code": "up_arrow" },
                  { "key_code": "up_arrow" },{ "key_code": "up_arrow" },{ "key_code": "up_arrow" },
                  { "key_code": "up_arrow" },{ "key_code": "up_arrow" },{ "key_code": "up_arrow" },
                  { "key_code": "up_arrow" },{ "key_code": "up_arrow" },{ "key_code": "up_arrow" },
                  { "key_code": "up_arrow" },{ "key_code": "up_arrow" },{ "key_code": "up_arrow" },
                  { "key_code": "up_arrow" },{ "key_code": "up_arrow" },{ "key_code": "up_arrow" },
                  { "key_code": "up_arrow" },{ "key_code": "up_arrow" },{ "key_code": "up_arrow" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        
        { "description": "-------------------------------------------------------------------------",
          "description": " Vi mode Normal (Kana)                                                   ",
          "description": "-------------------------------------------------------------------------",
        
          "description": "Normal: :",
          "type": "basic",
          "from": { "key_code": "e" },
          "to": [ { "set_variable": { "name": ":_pressed", "value": 1 } },
                  { "set_notification_message": { "id": ":_pressed", "text": ":" } } ],
          "to_delayed_action": { 
          "to_if_invoked":  [ { "set_variable": { "name": ":_pressed", "value": 0 } },              
                              { "set_notification_message": { "id": ":_pressed", "text": "" } } ],
          "to_if_canceled": [ { "set_variable": { "name": ":_pressed", "value": 0 } },              
                              { "set_notification_message": { "id": ":_pressed", "text": "" } } ] }, 
          "parameters": { "basic.to_delayed_action_delay_milliseconds": 1000000000},
          "conditions": [ { "type": "variable_if", "name": "unset_mode",    "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",       "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode",    "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",     "value": 1 }, 
                          { "type": "variable_if", "name": "tab_mode",      "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "description": "Normal: 0",
          "type": "basic",
          "from": { "key_code": "semicolon" },
          "to": [ { "key_code": "left_arrow", "modifiers": [ "command" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 1 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "description": "Normal: $",
          "type": "basic",
          "from": { "key_code": "n" },
          "to": [ { "key_code": "left_arrow", "modifiers": [ "command" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 1 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "description": "Normal: ^",
          "type": "basic",
          "from": { "key_code": "v" },
          "to": [ { "key_code": "right_arrow", "modifiers": [ "command" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 1 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 

        
        { "description": "-------------------------------------------------------------------------",
          "description": " Vi mode Normal (Trackpad)                                               ",
          "description": "-------------------------------------------------------------------------",
        
          "description": "Normal: I",
          "type": "basic",
          "from": { "key_code": "i" },
          "to": [ { "key_code": "left_arrow", "modifiers": [ "command" ] },
                  { "set_variable": { "name": "vi_mode", "value": 0 } },
                  { "set_notification_message": { "id": "vi_mode", "text": "-- INSERT --" } } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_unless", 
                            "name": "multitouch_extension_finger_count_total", "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "description": "Normal: O",
          "type": "basic",
          "from": { "key_code": "o" },
          "to": [ { "key_code": "left_arrow", "modifiers": [ "command" ] },
                  { "key_code": "return_or_enter" },
                  { "key_code": "up_arrow" },
                  { "set_variable": { "name": "vi_mode", "value": 0 } },
                  { "set_notification_message": { "id": "vi_mode", "text": "-- INSERT --" } } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_unless", 
                            "name": "multitouch_extension_finger_count_total", "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "description": "Normal: P",
          "description": "If cp_type is 1",
          "type": "basic",
          "from": { "key_code": "p" },
          "to": [ { "key_code": "left_arrow", "modifiers": [ "command" ] }, 
                  { "key_code": "return_or_enter" },
                  { "key_code": "up_arrow" }, 
                  { "key_code": "v", "modifiers": [ "command" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 1 }, 
                          { "type": "variable_if", "name": "cp_type",    "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_unless", 
                            "name": "multitouch_extension_finger_count_total", "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "description": "Normal: P",
          "description": "Otherwise",
          "type": "basic",
          "from": { "key_code": "p" },
          "to": [ { "key_code": "left_arrow" },
                  { "key_code": "v", "modifiers": [ "command" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_unless", 
                            "name": "multitouch_extension_finger_count_total", "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "description": "Normal: A",
          "type": "basic",
          "from": { "key_code": "a" },
          "to": [ { "key_code": "right_arrow", "modifiers": [ "command" ] },
                  { "set_variable": { "name": "vi_mode", "value": 0 } },
                  { "set_notification_message": { "id": "vi_mode", "text": "-- INSERT --" } } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_unless", 
                            "name": "multitouch_extension_finger_count_total", "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "description": "Normal: G",
          "type": "basic",
          "from": { "key_code": "g" },
          "to": [ { "key_code": "down_arrow", "modifiers": [ "command" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_unless", 
                            "name": "multitouch_extension_finger_count_total", "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "description": "Normal: X",
          "type": "basic",
          "from": { "key_code": "x" },
          "to": [ { "key_code": "delete_or_backspace" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_unless", 
                            "name": "multitouch_extension_finger_count_total", "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 
        { "description": "Normal: V",
          "type": "basic",
          "from": { "key_code": "v" },
          "to": [ { "key_code": "a", "modifiers": [ "control","shift" ] },
                  { "key_code": "e", "modifiers": [ "control","shift" ] },
                  { "set_variable": { "name": "vi_mode", "value": 3 } },
                  { "set_notification_message": { "id": "vi_mode", "text": "-- V-LINE --" } } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "vi_mode",    "value": 1 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_unless", 
                            "name": "multitouch_extension_finger_count_total", "value": 0 },
                          { "type": "variable_if", "name": "vi_on_off",  "value": 1 } ] }, 

        
        { "description": "-------------------------------------------------------------------",
          "description": " Vi mode: Normal & Visual & V-Line (Invalid)                       ",
          "description": "-------------------------------------------------------------------",
        
          "type": "basic",
          "from": { "any": "key_code", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "key_code": "vk_none" } ],
          "conditions": [ { "type": "variable_if",     "name": "unset_mode", "value": 0 },
                          { "type": "variable_unless", "name": "vi_mode",    "value": 0 }, 
                          { "type": "variable_unless", "name": "vi_mode",    "value": 4 }, 
                          { "type": "variable_if",     "name": "vi_on_off",  "value": 1 } ] }, 
                                                      

        { "description": "------------------------------------------------------------------------------------",
          "description": " Trackpad Shift (Eisuu)                                                             ",
          "description": "------------------------------------------------------------------------------------",
        
          "description": "Trackpad-Eisuu: h --------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "h", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "key_code": "left_arrow", "modifiers": [ "shift" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 },  
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 },  
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_unless", 
                            "name": "multitouch_extension_finger_count_total", "value": 0 } ] },

        { "description": "Trackpad-Eisuu: j --------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "j", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "key_code": "down_arrow", "modifiers": [ "shift" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 },  
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 },  
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_unless", 
                            "name": "multitouch_extension_finger_count_total", "value": 0 } ] },

        { "description": "Trackpad-Eisuu: k --------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "k", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "key_code": "up_arrow", "modifiers": [ "shift" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 },  
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 },  
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_unless", 
                            "name": "multitouch_extension_finger_count_total", "value": 0 } ] },

        { "description": "Trackpad-Eisuu: l --------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "l", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "key_code": "right_arrow", "modifiers": [ "shift" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 },  
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 },  
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_unless", 
                            "name": "multitouch_extension_finger_count_total", "value": 0 } ] },
                                                      

        { "description": "------------------------------------------------------------------------------------",
          "description": " Trackpad Shift                                                                     ",
          "description": "------------------------------------------------------------------------------------",
        
          "description": "Trackpad: q ------------------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "q", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "key_code": "japanese_eisuu" }, { "key_code": "q", "modifiers": [ "shift" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 },  
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 },  
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_unless", 
                            "name": "multitouch_extension_finger_count_total", "value": 0 } ] },

        { "description": "Trackpad: w ------------------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "w", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "key_code": "japanese_eisuu" }, { "key_code": "w", "modifiers": [ "shift" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 },  
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 },  
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_unless", 
                            "name": "multitouch_extension_finger_count_total", "value": 0 } ] },

        { "description": "Trackpad: e ------------------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "e", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "key_code": "japanese_eisuu" }, { "key_code": "e", "modifiers": [ "shift" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 },  
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 },  
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_unless", 
                            "name": "multitouch_extension_finger_count_total", "value": 0 } ] },

        { "description": "Trackpad: r ------------------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "r", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "key_code": "japanese_eisuu" }, { "key_code": "r", "modifiers": [ "shift" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 },  
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 },  
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_unless", 
                            "name": "multitouch_extension_finger_count_total", "value": 0 } ] },

        { "description": "Trackpad: t ------------------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "t", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "key_code": "japanese_eisuu" }, { "key_code": "t", "modifiers": [ "shift" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 },  
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 },  
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_unless", 
                            "name": "multitouch_extension_finger_count_total", "value": 0 } ] },

        { "description": "Trackpad: y ------------------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "y", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "key_code": "japanese_eisuu" }, { "key_code": "y", "modifiers": [ "shift" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 },  
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 },  
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_unless", 
                            "name": "multitouch_extension_finger_count_total", "value": 0 } ] },

        { "description": "Trackpad: u ------------------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "u", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "key_code": "japanese_eisuu" }, { "key_code": "u", "modifiers": [ "shift" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 },  
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 },  
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_unless", 
                            "name": "multitouch_extension_finger_count_total", "value": 0 } ] },

        { "description": "Trackpad: i ------------------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "i", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "key_code": "japanese_eisuu" }, { "key_code": "i", "modifiers": [ "shift" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 },  
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 },  
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_unless", 
                            "name": "multitouch_extension_finger_count_total", "value": 0 } ] },

        { "description": "Trackpad: o ------------------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "o", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "key_code": "japanese_eisuu" }, { "key_code": "o", "modifiers": [ "shift" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 },  
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 },  
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_unless", 
                            "name": "multitouch_extension_finger_count_total", "value": 0 } ] },

        { "description": "Trackpad: p ------------------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "p", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "key_code": "japanese_eisuu" }, { "key_code": "p", "modifiers": [ "shift" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 },  
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 },  
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_unless", 
                            "name": "multitouch_extension_finger_count_total", "value": 0 } ] },

        { "description": "Trackpad: a ------------------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "a", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "key_code": "japanese_eisuu" }, { "key_code": "a", "modifiers": [ "shift" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 },  
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 },  
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_unless", 
                            "name": "multitouch_extension_finger_count_total", "value": 0 } ] },

        { "description": "Trackpad: s ------------------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "s", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "key_code": "japanese_eisuu" }, { "key_code": "s", "modifiers": [ "shift" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 },  
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 },  
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_unless", 
                            "name": "multitouch_extension_finger_count_total", "value": 0 } ] },

        { "description": "Trackpad: d ------------------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "d", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "key_code": "japanese_eisuu" }, { "key_code": "d", "modifiers": [ "shift" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 },  
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 },  
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_unless", 
                            "name": "multitouch_extension_finger_count_total", "value": 0 } ] },

        { "description": "Trackpad: f ------------------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "f", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "key_code": "japanese_eisuu" }, { "key_code": "f", "modifiers": [ "shift" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 },  
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 },  
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_unless", 
                            "name": "multitouch_extension_finger_count_total", "value": 0 } ] },

        { "description": "Trackpad: g ------------------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "g", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "key_code": "japanese_eisuu" }, { "key_code": "g", "modifiers": [ "shift" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 },  
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 },  
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_unless", 
                            "name": "multitouch_extension_finger_count_total", "value": 0 } ] },

        { "description": "Trackpad: h ------------------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "h", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "key_code": "japanese_eisuu" }, { "key_code": "h", "modifiers": [ "shift" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 },  
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 },  
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_unless", 
                            "name": "multitouch_extension_finger_count_total", "value": 0 } ] },

        { "description": "Trackpad: j ------------------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "j", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "key_code": "japanese_eisuu" }, { "key_code": "j", "modifiers": [ "shift" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 },  
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 },  
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_unless", 
                            "name": "multitouch_extension_finger_count_total", "value": 0 } ] },

        { "description": "Trackpad: k ------------------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "k", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "key_code": "japanese_eisuu" }, { "key_code": "k", "modifiers": [ "shift" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 },  
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 },  
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_unless", 
                            "name": "multitouch_extension_finger_count_total", "value": 0 } ] },

        { "description": "Trackpad: l ------------------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "l", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "key_code": "japanese_eisuu" }, { "key_code": "l", "modifiers": [ "shift" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 },  
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 },  
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_unless", 
                            "name": "multitouch_extension_finger_count_total", "value": 0 } ] },

        { "description": "Trackpad: semicolon ----------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "semicolon", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "key_code": "return_or_enter", "modifiers": [ "shift" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 },  
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 },  
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_unless", 
                            "name": "multitouch_extension_finger_count_total", "value": 0 } ] },

        { "description": "Trackpad: quote --------------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "quote", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "key_code": "delete_forward" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 },  
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 },  
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_unless", 
                            "name": "multitouch_extension_finger_count_total", "value": 0 } ] },

        { "description": "Trackpad: z ------------------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "z", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "key_code": "japanese_eisuu" }, { "key_code": "z", "modifiers": [ "shift" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 },  
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 },  
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_unless", 
                            "name": "multitouch_extension_finger_count_total", "value": 0 } ] },

        { "description": "Trackpad: x ------------------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "x", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "key_code": "japanese_eisuu" }, { "key_code": "x", "modifiers": [ "shift" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 },  
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 },  
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_unless", 
                            "name": "multitouch_extension_finger_count_total", "value": 0 } ] },

        { "description": "Trackpad: c ------------------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "c", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "key_code": "japanese_eisuu" }, { "key_code": "c", "modifiers": [ "shift" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 },  
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 },  
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_unless", 
                            "name": "multitouch_extension_finger_count_total", "value": 0 } ] },

        { "description": "Trackpad: v ------------------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "v", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "key_code": "japanese_eisuu" }, { "key_code": "v", "modifiers": [ "shift" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 },  
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 },  
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_unless", 
                            "name": "multitouch_extension_finger_count_total", "value": 0 } ] },

        { "description": "Trackpad: b ------------------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "b", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "key_code": "japanese_eisuu" }, { "key_code": "b", "modifiers": [ "shift" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 },  
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 },  
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_unless", 
                            "name": "multitouch_extension_finger_count_total", "value": 0 } ] },

        { "description": "Trackpad: n ------------------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "n", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "key_code": "japanese_eisuu" }, { "key_code": "n", "modifiers": [ "shift" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 },  
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 },  
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_unless", 
                            "name": "multitouch_extension_finger_count_total", "value": 0 } ] },

        { "description": "Trackpad: m ------------------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "m", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "key_code": "japanese_eisuu" }, { "key_code": "m", "modifiers": [ "shift" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 },  
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 },  
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_unless", 
                            "name": "multitouch_extension_finger_count_total", "value": 0 } ] },

        { "description": "Trackpad: comma --------------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "comma", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "key_code": "comma", "modifiers": [ "shift" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 },  
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 },  
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_unless", 
                            "name": "multitouch_extension_finger_count_total", "value": 0 } ] },

        { "description": "Trackpad: period -------------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "period", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "key_code": "period", "modifiers": [ "shift" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 },  
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 },  
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_unless", 
                            "name": "multitouch_extension_finger_count_total", "value": 0 } ] },

        { "description": "Trackpad: slash --------------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "slash", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "key_code": "slash", "modifiers": [ "shift" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 },  
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 },  
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "variable_unless", 
                            "name": "multitouch_extension_finger_count_total", "value": 0 } ] },
        

        { "description": "------------------------------------------------------------------------------------",
          "description": " Non-modifier Key                                                                   ",
          "description": "------------------------------------------------------------------------------------",

          "description": "Non-modifier: semicolon ---------------------------------------",

          "description": "Semicolon → Return",
          "type": "basic",
          "from": { "key_code": "semicolon", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "key_code": "return_or_enter" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "sin-tuki",   "value": 0 },
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 },
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 } ] },

        { "description": "Non-modifier: quote -------------------------------------------",

          "description": "Quote → Backspace",
          "type": "basic",
          "from": { "key_code": "quote", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "key_code": "delete_or_backspace" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },  
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 },
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 } ] },
        
        
        { "description": "------------------------------------------------------------------------------------",
          "description": " Change Combination: Command                                                        ",
          "description": "------------------------------------------------------------------------------------",
          
          "description": "Command: q ---------------------------------------------------",

          "description": "Two-stroke",
          "type": "basic",
          "from": { "key_code": "q", "modifiers": { "mandatory": [ "command" ] } },
          "to": [ { "key_code": "q", "modifiers": [ "command" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "command_q",  "value": 1 },
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 },
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 } ] },
        { "type": "basic",
          "from": { "key_code": "q", "modifiers": { "mandatory": [ "command" ] } },
          "to": [ { "set_variable": { "name": "command_q", "value": 1 } } ],
          "to_delayed_action": { 
          "to_if_invoked":  [ { "set_variable": { "name": "command_q", "value": 0 } } ], 
          "to_if_canceled": [ { "set_variable": { "name": "command_q", "value": 0 } } ] },
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 },
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 } ] },

        { "description": "Command: c ---------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "c", "modifiers": { "mandatory": [ "command" ], "optional": [ "any" ] } },
          "to": [ { "set_variable": { "name": "cp_type", "value": 0 } },
                  { "key_code": "c", "modifiers": [ "command" ] } ],
          "conditions": [ { "type": "variable_if",     "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if",     "name": "eisuu_mode", "value": 0 },
                          { "type": "variable_if",     "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if",     "name": "tab_mode",   "value": 0 }, 
                          { "type": "variable_unless", "name": "vi_on_off",  "value": 1 } ] }, 
        
        
        { "description": "------------------------------------------------------------------------------------",
          "description": " Change Combination: Control                                                        ",
          "description": "------------------------------------------------------------------------------------",
          
          "description": "Control: h ---------------------------------------------------",
          "description": "Comment out",
          "type": "basic",
          "from": { "key_code": "h", "modifiers": { "mandatory": [ "left_control" ] } },
          "to": [ { "key_code": "delete_or_backspace" } ],
          "conditions": [ { "type": "event_changed_if", "value": true },
                          { "type": "variable_if", "name": "unset_mode", "value": 0 },
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 },
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 } ] },

        { "description": "Control: j ---------------------------------------------------",
          "description": "Comment out",
          "type": "basic",
          "from": { "key_code": "j", "modifiers": { "mandatory": [ "left_control" ] } },
          "to": [ { "key_code": "delete_forward" } ],
          "conditions": [ { "type": "event_changed_if", "value": true },
                          { "type": "variable_if", "name": "unset_mode", "value": 0 },
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 },
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 } ] },
        
        
        { "description": "------------------------------------------------------------------------------------",
          "description": " Layer 1-1                                                                          ",
          "description": "------------------------------------------------------------------------------------",
          
          "description": "1-1: y -------------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "y" },
          "to": [ { "key_code": "1" }, { "key_code": "9" }, { "key_code": "2" }, { "key_code": "period" },
                  { "key_code": "1" }, { "key_code": "6" }, { "key_code": "8" }, { "key_code": "period" },
                  { "key_code": "2" }, { "key_code": "0" }, { "key_code": "period" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 } ] }, 

        { "description": "1-1: u -------------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "u" },
          "to": [ { "key_code": "8", "modifiers": [ "shift" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 } ] }, 

        { "description": "1-1: i -------------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "i" },
          "to": [ { "key_code": "9", "modifiers": [ "shift" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 } ] }, 

        { "description": "1-1: o -------------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "o" },
          "to": [ { "key_code": "close_bracket" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 } ] }, 

        { "description": "1-1: p -------------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "p" },
          "to": [ { "key_code": "backslash" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 } ] }, 

        { "description": "1-1: n -------------------------------------------------------",

          "description": "Application Branch",
          "description": "If front app is iTerm2, copy macro ; Otherwise, nothing",
          "type": "basic",
          "from": { "key_code": "n" },
          "to": [ { "key_code": "c", "modifiers": [ "command","shift" ] }, 
                  { "key_code": "up_arrow" }, { "key_code": "0" }, 
                  { "key_code": "v", "modifiers": [ "control" ] }, 
                  { "key_code": "4", "modifiers": [ "shift" ] }, 
                  { "key_code": "y" }, { "key_code": "return_or_enter" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 },
                          { "type": "frontmost_application_if", 
                            "bundle_identifiers": [ "^com\\.googlecode\\.iterm2" ] } ] }, 

        { "description": "1-1: m -------------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "m", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "key_code": "7", "modifiers": [ "shift" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 } ] }, 

        { "description": "1-1: comma ---------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "comma", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "key_code": "2", "modifiers": [ "shift" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 } ] }, 

        { "description": "1-1: period --------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "period" },
          "to": [ { "key_code": "close_bracket", "modifiers": [ "shift" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 } ] }, 

        { "description": "1-1: slash -------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "slash" },
          "to": [ { "key_code": "backslash", "modifiers": [ "shift" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 0 }, 
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 } ] }, 
        
        
        { "description": "------------------------------------------------------------------------------------",
          "description": " Layer 2-1                                                                          ",
          "description": "------------------------------------------------------------------------------------",
          
          "description": "2-1: q -------------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "q", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "key_code": "international3" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 1 },
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 } ] },

        { "description": "2-1: w -------------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "w", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "key_code": "grave_accent_and_tilde", "modifiers": [ "shift" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 1 },
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 } ] },

        { "description": "2-1: e -------------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "e", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "key_code": "quote" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 1 },
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 } ] },

        { "description": "2-1: r -------------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "r", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "key_code": "semicolon" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 1 },
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 } ] },

        { "description": "2-1: t -------------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "t", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "key_code": "international3", "modifiers": [ "shift" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 1 },
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 } ] },

        { "description": "2-1: y -------------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "y", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "key_code": "grave_accent_and_tilde" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 1 },
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 } ] },

        { "description": "2-1: u -------------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "u", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "key_code": "international1" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 1 },
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 } ] },

        { "description": "2-1: i -------------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "i", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "key_code": "hyphen" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 1 },
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 } ] },

        { "description": "2-1: o -------------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "o", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "key_code": "semicolon", "modifiers": [ "shift" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 1 },
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 } ] },

        { "description": "2-1: p -------------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "p", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "key_code": "hyphen", "modifiers": [ "shift" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 1 },
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 } ] },

        { "description": "2-1: a -------------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "a", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "key_code": "1" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 1 },
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 } ] },

        { "description": "2-1: s -------------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "s", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "key_code": "2" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 1 },
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 } ] },

        { "description": "2-1: d -------------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "d", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "key_code": "3" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 1 },
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 } ] },

        { "description": "2-1: f -------------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "f", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "key_code": "4" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 1 },
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 } ] },

        { "description": "2-1: g -------------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "g", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "key_code": "5" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 1 },
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 } ] },

        { "description": "2-1: h -------------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "h", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "key_code": "6" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 1 },
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 } ] },

        { "description": "2-1: j -------------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "j", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "key_code": "7" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 1 },
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 } ] },

        { "description": "2-1: k -------------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "k", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "key_code": "8" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 1 },
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 } ] },

        { "description": "2-1: l -------------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "l", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "key_code": "9" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 1 },
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 } ] },

        { "description": "2-1: semicolon -----------------------------------------------",
          "type": "basic",
          "from": { "key_code": "semicolon", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "key_code": "0" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 1 },
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 } ] },

        { "description": "2-1: z -------------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "z", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "key_code": "1", "modifiers": [ "shift" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 1 },
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 } ] },

        { "description": "2-1: x -------------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "x", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "key_code": "open_bracket" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 1 },
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 } ] },

        { "description": "2-1: c -------------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "c", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "key_code": "3", "modifiers": [ "shift" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 1 },
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 } ] },

        { "description": "2-1: v -------------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "v", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "key_code": "4", "modifiers": [ "shift" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 1 },
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 } ] },

        { "description": "2-1: b -------------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "b", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "key_code": "5", "modifiers": [ "shift" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 1 },
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 } ] },

        { "description": "2-1: n -------------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "n", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "key_code": "equal_sign" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 1 },
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 } ] },

        { "description": "2-1: m -------------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "m", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "key_code": "6", "modifiers": [ "shift" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 1 },
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 } ] },

        { "description": "2-1: comma ---------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "comma", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "key_code": "quote", "modifiers": [ "shift" ] } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 1 },
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 } ] },

        { "description": "2-1: period --------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "period" },
          "to": [ { "key_code": "period" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 1 },
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 } ] },

        { "description": "2-1: slash ---------------------------------------------------",
          "type": "basic",
          "from": { "key_code": "slash" },
          "to": [ { "key_code": "slash" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_if", "name": "eisuu_mode", "value": 0 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 1 },
                          { "type": "variable_if", "name": "tab_mode",   "value": 0 } ] },

        
        { "description": "------------------------------------------------------------------------------------",
          "description": " tab, eisuu, kana combination: invalid                                              ",
          "description": "------------------------------------------------------------------------------------",
        
          "type": "basic",
          "from": { "any": "key_code", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "key_code": "vk_none" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },
                          { "type": "variable_if", "name": "eisuu_mode", "value": 1 } ] }, 
        { "type": "basic",
          "from": { "any": "key_code", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "key_code": "vk_none" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },
                          { "type": "variable_if", "name": "kana_mode",  "value": 1 } ] }, 
        { "type": "basic",
          "from": { "any": "key_code", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "key_code": "vk_none" } ],
          "conditions": [ { "type": "variable_if", "name": "unset_mode", "value": 0 },
                          { "type": "variable_if", "name": "tab_mode",   "value": 1 } ] }, 
        
        
        { "description": "---------------------------------------------------------------------",
          "description": " Apple script によってメッセージを表示する (Sample: Comment out now) ",
          "description": "---------------------------------------------------------------------",
        
          "type": "basic",
          "from": { "key_code": "escape" },
          "to": [ { "set_variable": { "name": "vi_mode", "value": 1 } },
                  { "set_notification_message": { "id": "vi_mode", "text": "-- NORMAL --" } },
                  { "shell_command": "osascript -e 'display notification with title \"-- Normal --\"'" } ],
          "conditions": [ { "type": "event_changed_if", "value": true },
                          { "type": "variable_if", "name": "unset_mode", "value": 0 }, 
                          { "type": "variable_unless", "name": "vi_mode", "value": 1 } ] },


        { "description": "-------------------------------------------------",
          "description": " Sample of Comment out: Modifier Key: Two-stroke ",
          "description": "-------------------------------------------------",
        
          "description": "Tab → Alone：Show Dock, Two-stroke: Shift, Modifier：Layer3",
          "type": "basic",
          "from": { "key_code": "tab", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "set_variable": { "name": "tab_mode", "value": 1 } } ],
          "parameters": { "basic.to_if_alone_timeout_milliseconds": 150},
          "to_if_alone": [ { "apple_vendor_keyboard_key_code": "launchpad" } ],
          "to_after_key_up": [ { "set_variable": { "name": "tab_mode","value": 0 } } ],
          "conditions": [ { "type": "event_changed_if", "value": true },
                          { "type": "variable_if", "name": "unset_mode", "value": 0 },
                          { "type": "variable_if", "name": "tab2_mode",  "value": 1 } ] },  
        { "type": "basic",
          "from": { "key_code": "tab", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "set_variable": { "name": "tab_mode",  "value": 1 } },
                  { "set_variable": { "name": "tab2_mode", "value": 1 } } ],
          "to_delayed_action": { 
          "to_if_invoked":  [ { "set_variable": { "name": "tab2_mode", "value": 0 } } ], 
          "to_if_canceled": [ { "set_variable": { "name": "tab2_mode", "value": 0 } } ] },
          "parameters": { "basic.to_if_alone_timeout_milliseconds": 150},
          "to_if_alone": [ { "key_code": "f3", "modifiers": [ "left_control" ] } ],
          "to_after_key_up": [ { "set_variable": { "name": "tab_mode","value": 0 } } ],
          "conditions": [ { "type": "event_changed_if", "value": true },
                          { "type": "variable_if", "name": "unset_mode", "value": 0 } ] },  
        
        { "description": "Eisuu → Alone: Eisuu, Modifier:  Layer 1, Two-stroke: Stikey-Shift",
          "type": "basic",
          "from": { "key_code": "japanese_eisuu", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "sticky_modifier": { "left_shift" : "on" } } ],
          "conditions":[ { "type": "event_changed_if", "value": true },
                         { "type": "variable_if", "name": "unset_mode", "value": 0 },
                         { "type": "variable_if", "name": "eisuu2_mode","value": 1 } ] }, 
        { "type": "basic",
          "from": { "key_code": "japanese_eisuu", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "sticky_modifier": { "left_shift" : "on" } } ],
          "to_after_key_up": [ { "key_code": "japanese_kana" } ],
          "conditions":[ { "type": "event_changed_if", "value": true },
                         { "type": "variable_if", "name": "unset_mode", "value": 0 },
                         { "type": "variable_if", "name": "eisuu2_mode","value": 2 } ] }, 
        { "type": "basic",
          "from": { "key_code": "japanese_eisuu", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "set_variable": { "name": "eisuu_mode", "value": 1 } },
                  { "set_variable": { "name": "eisuu2_mode","value": 1 } } ],
          "to_delayed_action": { 
          "to_if_invoked":  [ { "set_variable": { "name": "eisuu2_mode", "value": 0 } } ], 
          "to_if_canceled": [ { "set_variable": { "name": "eisuu2_mode", "value": 0 } } ] },
          "parameters": { "basic.to_if_alone_timeout_milliseconds": 150},
          "to_if_alone": [ { "key_code": "japanese_eisuu" } ],
          "to_after_key_up": [ { "set_variable": { "name": "eisuu_mode", "value": 0 } } ],
          "conditions":[ { "type": "event_changed_if", "value": true },
                         { "type": "variable_if", "name": "unset_mode", "value": 0 },
                         { "type": "input_source_if", "input_sources": [ { "language":"en" } ] } ] },
        { "type": "basic",
          "from": { "key_code": "japanese_eisuu", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "set_variable": { "name": "eisuu_mode", "value": 1 } },
                  { "set_variable": { "name": "eisuu2_mode","value": 2 } } ],
          "to_delayed_action": { 
          "to_if_invoked":  [ { "set_variable": { "name": "eisuu2_mode", "value": 0 } } ], 
          "to_if_canceled": [ { "set_variable": { "name": "eisuu2_mode", "value": 0 } } ] },
          "parameters": { "basic.to_if_alone_timeout_milliseconds": 150},
          "to_if_alone": [ { "key_code": "japanese_eisuu" } ],
          "to_after_key_up": [ { "set_variable": { "name": "eisuu_mode", "value": 0 } } ],
          "conditions":[ { "type": "event_changed_if", "value": true },
                         { "type": "variable_if", "name": "unset_mode", "value": 0 },
                         { "type": "input_source_if", "input_sources": [ { "language":"ja" } ] } ] },
        
        { "description": "Kana → Alone: Kana, Modifier:  Layer 2, Two-stroke: Shift",
          "type": "basic",
          "from": { "key_code": "japanese_kana", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "key_code": "japanese_eisuu" }, { "key_code": "left_shift" } ],
          "conditions":[ { "type": "event_changed_if", "value": true },
                         { "type": "variable_if", "name": "unset_mode", "value": 0 },
                         { "type": "variable_if", "name": "kana2_mode","value": 1 } ] }, 
        { "type": "basic",
          "from": { "key_code": "japanese_kana", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "key_code": "japanese_eisuu" }, { "key_code": "left_shift" } ],
          "to_after_key_up": [ { "key_code": "japanese_kana" } ],
          "conditions":[ { "type": "event_changed_if", "value": true }, 
                         { "type": "variable_if", "name": "unset_mode", "value": 0 },
                         { "type": "variable_if", "name": "kana2_mode","value": 2 } ] }, 
        { "type": "basic",
          "from": { "key_code": "japanese_kana", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "set_variable": { "name": "kana_mode", "value": 1 } },
                  { "set_variable": { "name": "kana2_mode","value": 1 } } ],
          "to_delayed_action": { 
          "to_if_invoked":  [ { "set_variable": { "name": "kana2_mode", "value": 0 } } ], 
          "to_if_canceled": [ { "set_variable": { "name": "kana2_mode", "value": 0 } } ] },
          "parameters": { "basic.to_if_alone_timeout_milliseconds": 150},
          "to_if_alone": [ { "key_code": "japanese_kana" } ],
          "to_after_key_up": [ { "set_variable": { "name": "kana_mode", "value": 0 } } ],
          "conditions":[ { "type": "event_changed_if", "value": true }, 
                         { "type": "variable_if", "name": "unset_mode", "value": 0 },
                         { "type": "input_source_if", "input_sources": [ { "language":"en" } ] } ] },
        { "type": "basic",
          "from": { "key_code": "japanese_kana", "modifiers": { "optional": [ "any" ] } },
          "to": [ { "set_variable": { "name": "kana_mode", "value": 1 } },
                  { "set_variable": { "name": "kana2_mode","value": 2 } } ],
          "to_delayed_action": { 
          "to_if_invoked":  [ { "set_variable": { "name": "kana2_mode", "value": 0 } } ], 
          "to_if_canceled": [ { "set_variable": { "name": "kana2_mode", "value": 0 } } ] },
          "parameters": { "basic.to_if_alone_timeout_milliseconds": 150},
          "to_if_alone": [ { "key_code": "japanese_kana" } ],
          "to_after_key_up": [ { "set_variable": { "name": "kana_mode", "value": 0 } } ],
          "conditions":[ { "type": "event_changed_if", "value": true }, 
                         { "type": "variable_if", "name": "unset_mode", "value": 0 },
                         { "type": "input_source_if", "input_sources": [ { "language":"ja" } ] } ] }
          

    ]}
  ]
}
